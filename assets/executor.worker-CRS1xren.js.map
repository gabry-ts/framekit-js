{"version":3,"file":"executor.worker-CRS1xren.js","sources":["../../../node_modules/esbuild-wasm/esm/browser.js","../../../node_modules/esbuild-wasm/esbuild.wasm?url","../src/workers/executor.worker.ts"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// lib/npm/browser.ts\nvar browser_exports = {};\n__export(browser_exports, {\n  analyzeMetafile: () => analyzeMetafile,\n  analyzeMetafileSync: () => analyzeMetafileSync,\n  build: () => build,\n  buildSync: () => buildSync,\n  context: () => context,\n  default: () => browser_default,\n  formatMessages: () => formatMessages,\n  formatMessagesSync: () => formatMessagesSync,\n  initialize: () => initialize,\n  stop: () => stop,\n  transform: () => transform,\n  transformSync: () => transformSync,\n  version: () => version\n});\n\n// lib/shared/stdio_protocol.ts\nfunction encodePacket(packet) {\n  let visit = (value) => {\n    if (value === null) {\n      bb.write8(0);\n    } else if (typeof value === \"boolean\") {\n      bb.write8(1);\n      bb.write8(+value);\n    } else if (typeof value === \"number\") {\n      bb.write8(2);\n      bb.write32(value | 0);\n    } else if (typeof value === \"string\") {\n      bb.write8(3);\n      bb.write(encodeUTF8(value));\n    } else if (value instanceof Uint8Array) {\n      bb.write8(4);\n      bb.write(value);\n    } else if (value instanceof Array) {\n      bb.write8(5);\n      bb.write32(value.length);\n      for (let item of value) {\n        visit(item);\n      }\n    } else {\n      let keys = Object.keys(value);\n      bb.write8(6);\n      bb.write32(keys.length);\n      for (let key of keys) {\n        bb.write(encodeUTF8(key));\n        visit(value[key]);\n      }\n    }\n  };\n  let bb = new ByteBuffer();\n  bb.write32(0);\n  bb.write32(packet.id << 1 | +!packet.isRequest);\n  visit(packet.value);\n  writeUInt32LE(bb.buf, bb.len - 4, 0);\n  return bb.buf.subarray(0, bb.len);\n}\nfunction decodePacket(bytes) {\n  let visit = () => {\n    switch (bb.read8()) {\n      case 0:\n        return null;\n      case 1:\n        return !!bb.read8();\n      case 2:\n        return bb.read32();\n      case 3:\n        return decodeUTF8(bb.read());\n      case 4:\n        return bb.read();\n      case 5: {\n        let count = bb.read32();\n        let value2 = [];\n        for (let i = 0; i < count; i++) {\n          value2.push(visit());\n        }\n        return value2;\n      }\n      case 6: {\n        let count = bb.read32();\n        let value2 = {};\n        for (let i = 0; i < count; i++) {\n          value2[decodeUTF8(bb.read())] = visit();\n        }\n        return value2;\n      }\n      default:\n        throw new Error(\"Invalid packet\");\n    }\n  };\n  let bb = new ByteBuffer(bytes);\n  let id = bb.read32();\n  let isRequest = (id & 1) === 0;\n  id >>>= 1;\n  let value = visit();\n  if (bb.ptr !== bytes.length) {\n    throw new Error(\"Invalid packet\");\n  }\n  return { id, isRequest, value };\n}\nvar ByteBuffer = class {\n  constructor(buf = new Uint8Array(1024)) {\n    this.buf = buf;\n    this.len = 0;\n    this.ptr = 0;\n  }\n  _write(delta) {\n    if (this.len + delta > this.buf.length) {\n      let clone = new Uint8Array((this.len + delta) * 2);\n      clone.set(this.buf);\n      this.buf = clone;\n    }\n    this.len += delta;\n    return this.len - delta;\n  }\n  write8(value) {\n    let offset = this._write(1);\n    this.buf[offset] = value;\n  }\n  write32(value) {\n    let offset = this._write(4);\n    writeUInt32LE(this.buf, value, offset);\n  }\n  write(bytes) {\n    let offset = this._write(4 + bytes.length);\n    writeUInt32LE(this.buf, bytes.length, offset);\n    this.buf.set(bytes, offset + 4);\n  }\n  _read(delta) {\n    if (this.ptr + delta > this.buf.length) {\n      throw new Error(\"Invalid packet\");\n    }\n    this.ptr += delta;\n    return this.ptr - delta;\n  }\n  read8() {\n    return this.buf[this._read(1)];\n  }\n  read32() {\n    return readUInt32LE(this.buf, this._read(4));\n  }\n  read() {\n    let length = this.read32();\n    let bytes = new Uint8Array(length);\n    let ptr = this._read(bytes.length);\n    bytes.set(this.buf.subarray(ptr, ptr + length));\n    return bytes;\n  }\n};\nvar encodeUTF8;\nvar decodeUTF8;\nvar encodeInvariant;\nif (typeof TextEncoder !== \"undefined\" && typeof TextDecoder !== \"undefined\") {\n  let encoder = new TextEncoder();\n  let decoder = new TextDecoder();\n  encodeUTF8 = (text) => encoder.encode(text);\n  decodeUTF8 = (bytes) => decoder.decode(bytes);\n  encodeInvariant = 'new TextEncoder().encode(\"\")';\n} else if (typeof Buffer !== \"undefined\") {\n  encodeUTF8 = (text) => Buffer.from(text);\n  decodeUTF8 = (bytes) => {\n    let { buffer, byteOffset, byteLength } = bytes;\n    return Buffer.from(buffer, byteOffset, byteLength).toString();\n  };\n  encodeInvariant = 'Buffer.from(\"\")';\n} else {\n  throw new Error(\"No UTF-8 codec found\");\n}\nif (!(encodeUTF8(\"\") instanceof Uint8Array))\n  throw new Error(`Invariant violation: \"${encodeInvariant} instanceof Uint8Array\" is incorrectly false\n\nThis indicates that your JavaScript environment is broken. You cannot use\nesbuild in this environment because esbuild relies on this invariant. This\nis not a problem with esbuild. You need to fix your environment instead.\n`);\nfunction readUInt32LE(buffer, offset) {\n  return buffer[offset++] | buffer[offset++] << 8 | buffer[offset++] << 16 | buffer[offset++] << 24;\n}\nfunction writeUInt32LE(buffer, value, offset) {\n  buffer[offset++] = value;\n  buffer[offset++] = value >> 8;\n  buffer[offset++] = value >> 16;\n  buffer[offset++] = value >> 24;\n}\n\n// lib/shared/common.ts\nvar quote = JSON.stringify;\nvar buildLogLevelDefault = \"warning\";\nvar transformLogLevelDefault = \"silent\";\nfunction validateTarget(target) {\n  validateStringValue(target, \"target\");\n  if (target.indexOf(\",\") >= 0) throw new Error(`Invalid target: ${target}`);\n  return target;\n}\nvar canBeAnything = () => null;\nvar mustBeBoolean = (value) => typeof value === \"boolean\" ? null : \"a boolean\";\nvar mustBeString = (value) => typeof value === \"string\" ? null : \"a string\";\nvar mustBeRegExp = (value) => value instanceof RegExp ? null : \"a RegExp object\";\nvar mustBeInteger = (value) => typeof value === \"number\" && value === (value | 0) ? null : \"an integer\";\nvar mustBeFunction = (value) => typeof value === \"function\" ? null : \"a function\";\nvar mustBeArray = (value) => Array.isArray(value) ? null : \"an array\";\nvar mustBeObject = (value) => typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"an object\";\nvar mustBeEntryPoints = (value) => typeof value === \"object\" && value !== null ? null : \"an array or an object\";\nvar mustBeWebAssemblyModule = (value) => value instanceof WebAssembly.Module ? null : \"a WebAssembly.Module\";\nvar mustBeObjectOrNull = (value) => typeof value === \"object\" && !Array.isArray(value) ? null : \"an object or null\";\nvar mustBeStringOrBoolean = (value) => typeof value === \"string\" || typeof value === \"boolean\" ? null : \"a string or a boolean\";\nvar mustBeStringOrObject = (value) => typeof value === \"string\" || typeof value === \"object\" && value !== null && !Array.isArray(value) ? null : \"a string or an object\";\nvar mustBeStringOrArray = (value) => typeof value === \"string\" || Array.isArray(value) ? null : \"a string or an array\";\nvar mustBeStringOrUint8Array = (value) => typeof value === \"string\" || value instanceof Uint8Array ? null : \"a string or a Uint8Array\";\nvar mustBeStringOrURL = (value) => typeof value === \"string\" || value instanceof URL ? null : \"a string or a URL\";\nfunction getFlag(object, keys, key, mustBeFn) {\n  let value = object[key];\n  keys[key + \"\"] = true;\n  if (value === void 0) return void 0;\n  let mustBe = mustBeFn(value);\n  if (mustBe !== null) throw new Error(`${quote(key)} must be ${mustBe}`);\n  return value;\n}\nfunction checkForInvalidFlags(object, keys, where) {\n  for (let key in object) {\n    if (!(key in keys)) {\n      throw new Error(`Invalid option ${where}: ${quote(key)}`);\n    }\n  }\n}\nfunction validateInitializeOptions(options) {\n  let keys = /* @__PURE__ */ Object.create(null);\n  let wasmURL = getFlag(options, keys, \"wasmURL\", mustBeStringOrURL);\n  let wasmModule = getFlag(options, keys, \"wasmModule\", mustBeWebAssemblyModule);\n  let worker = getFlag(options, keys, \"worker\", mustBeBoolean);\n  checkForInvalidFlags(options, keys, \"in initialize() call\");\n  return {\n    wasmURL,\n    wasmModule,\n    worker\n  };\n}\nfunction validateMangleCache(mangleCache) {\n  let validated;\n  if (mangleCache !== void 0) {\n    validated = /* @__PURE__ */ Object.create(null);\n    for (let key in mangleCache) {\n      let value = mangleCache[key];\n      if (typeof value === \"string\" || value === false) {\n        validated[key] = value;\n      } else {\n        throw new Error(`Expected ${quote(key)} in mangle cache to map to either a string or false`);\n      }\n    }\n  }\n  return validated;\n}\nfunction pushLogFlags(flags, options, keys, isTTY, logLevelDefault) {\n  let color = getFlag(options, keys, \"color\", mustBeBoolean);\n  let logLevel = getFlag(options, keys, \"logLevel\", mustBeString);\n  let logLimit = getFlag(options, keys, \"logLimit\", mustBeInteger);\n  if (color !== void 0) flags.push(`--color=${color}`);\n  else if (isTTY) flags.push(`--color=true`);\n  flags.push(`--log-level=${logLevel || logLevelDefault}`);\n  flags.push(`--log-limit=${logLimit || 0}`);\n}\nfunction validateStringValue(value, what, key) {\n  if (typeof value !== \"string\") {\n    throw new Error(`Expected value for ${what}${key !== void 0 ? \" \" + quote(key) : \"\"} to be a string, got ${typeof value} instead`);\n  }\n  return value;\n}\nfunction pushCommonFlags(flags, options, keys) {\n  let legalComments = getFlag(options, keys, \"legalComments\", mustBeString);\n  let sourceRoot = getFlag(options, keys, \"sourceRoot\", mustBeString);\n  let sourcesContent = getFlag(options, keys, \"sourcesContent\", mustBeBoolean);\n  let target = getFlag(options, keys, \"target\", mustBeStringOrArray);\n  let format = getFlag(options, keys, \"format\", mustBeString);\n  let globalName = getFlag(options, keys, \"globalName\", mustBeString);\n  let mangleProps = getFlag(options, keys, \"mangleProps\", mustBeRegExp);\n  let reserveProps = getFlag(options, keys, \"reserveProps\", mustBeRegExp);\n  let mangleQuoted = getFlag(options, keys, \"mangleQuoted\", mustBeBoolean);\n  let minify = getFlag(options, keys, \"minify\", mustBeBoolean);\n  let minifySyntax = getFlag(options, keys, \"minifySyntax\", mustBeBoolean);\n  let minifyWhitespace = getFlag(options, keys, \"minifyWhitespace\", mustBeBoolean);\n  let minifyIdentifiers = getFlag(options, keys, \"minifyIdentifiers\", mustBeBoolean);\n  let lineLimit = getFlag(options, keys, \"lineLimit\", mustBeInteger);\n  let drop = getFlag(options, keys, \"drop\", mustBeArray);\n  let dropLabels = getFlag(options, keys, \"dropLabels\", mustBeArray);\n  let charset = getFlag(options, keys, \"charset\", mustBeString);\n  let treeShaking = getFlag(options, keys, \"treeShaking\", mustBeBoolean);\n  let ignoreAnnotations = getFlag(options, keys, \"ignoreAnnotations\", mustBeBoolean);\n  let jsx = getFlag(options, keys, \"jsx\", mustBeString);\n  let jsxFactory = getFlag(options, keys, \"jsxFactory\", mustBeString);\n  let jsxFragment = getFlag(options, keys, \"jsxFragment\", mustBeString);\n  let jsxImportSource = getFlag(options, keys, \"jsxImportSource\", mustBeString);\n  let jsxDev = getFlag(options, keys, \"jsxDev\", mustBeBoolean);\n  let jsxSideEffects = getFlag(options, keys, \"jsxSideEffects\", mustBeBoolean);\n  let define = getFlag(options, keys, \"define\", mustBeObject);\n  let logOverride = getFlag(options, keys, \"logOverride\", mustBeObject);\n  let supported = getFlag(options, keys, \"supported\", mustBeObject);\n  let pure = getFlag(options, keys, \"pure\", mustBeArray);\n  let keepNames = getFlag(options, keys, \"keepNames\", mustBeBoolean);\n  let platform = getFlag(options, keys, \"platform\", mustBeString);\n  let tsconfigRaw = getFlag(options, keys, \"tsconfigRaw\", mustBeStringOrObject);\n  if (legalComments) flags.push(`--legal-comments=${legalComments}`);\n  if (sourceRoot !== void 0) flags.push(`--source-root=${sourceRoot}`);\n  if (sourcesContent !== void 0) flags.push(`--sources-content=${sourcesContent}`);\n  if (target) {\n    if (Array.isArray(target)) flags.push(`--target=${Array.from(target).map(validateTarget).join(\",\")}`);\n    else flags.push(`--target=${validateTarget(target)}`);\n  }\n  if (format) flags.push(`--format=${format}`);\n  if (globalName) flags.push(`--global-name=${globalName}`);\n  if (platform) flags.push(`--platform=${platform}`);\n  if (tsconfigRaw) flags.push(`--tsconfig-raw=${typeof tsconfigRaw === \"string\" ? tsconfigRaw : JSON.stringify(tsconfigRaw)}`);\n  if (minify) flags.push(\"--minify\");\n  if (minifySyntax) flags.push(\"--minify-syntax\");\n  if (minifyWhitespace) flags.push(\"--minify-whitespace\");\n  if (minifyIdentifiers) flags.push(\"--minify-identifiers\");\n  if (lineLimit) flags.push(`--line-limit=${lineLimit}`);\n  if (charset) flags.push(`--charset=${charset}`);\n  if (treeShaking !== void 0) flags.push(`--tree-shaking=${treeShaking}`);\n  if (ignoreAnnotations) flags.push(`--ignore-annotations`);\n  if (drop) for (let what of drop) flags.push(`--drop:${validateStringValue(what, \"drop\")}`);\n  if (dropLabels) flags.push(`--drop-labels=${Array.from(dropLabels).map((what) => validateStringValue(what, \"dropLabels\")).join(\",\")}`);\n  if (mangleProps) flags.push(`--mangle-props=${mangleProps.source}`);\n  if (reserveProps) flags.push(`--reserve-props=${reserveProps.source}`);\n  if (mangleQuoted !== void 0) flags.push(`--mangle-quoted=${mangleQuoted}`);\n  if (jsx) flags.push(`--jsx=${jsx}`);\n  if (jsxFactory) flags.push(`--jsx-factory=${jsxFactory}`);\n  if (jsxFragment) flags.push(`--jsx-fragment=${jsxFragment}`);\n  if (jsxImportSource) flags.push(`--jsx-import-source=${jsxImportSource}`);\n  if (jsxDev) flags.push(`--jsx-dev`);\n  if (jsxSideEffects) flags.push(`--jsx-side-effects`);\n  if (define) {\n    for (let key in define) {\n      if (key.indexOf(\"=\") >= 0) throw new Error(`Invalid define: ${key}`);\n      flags.push(`--define:${key}=${validateStringValue(define[key], \"define\", key)}`);\n    }\n  }\n  if (logOverride) {\n    for (let key in logOverride) {\n      if (key.indexOf(\"=\") >= 0) throw new Error(`Invalid log override: ${key}`);\n      flags.push(`--log-override:${key}=${validateStringValue(logOverride[key], \"log override\", key)}`);\n    }\n  }\n  if (supported) {\n    for (let key in supported) {\n      if (key.indexOf(\"=\") >= 0) throw new Error(`Invalid supported: ${key}`);\n      const value = supported[key];\n      if (typeof value !== \"boolean\") throw new Error(`Expected value for supported ${quote(key)} to be a boolean, got ${typeof value} instead`);\n      flags.push(`--supported:${key}=${value}`);\n    }\n  }\n  if (pure) for (let fn of pure) flags.push(`--pure:${validateStringValue(fn, \"pure\")}`);\n  if (keepNames) flags.push(`--keep-names`);\n}\nfunction flagsForBuildOptions(callName, options, isTTY, logLevelDefault, writeDefault) {\n  var _a;\n  let flags = [];\n  let entries = [];\n  let keys = /* @__PURE__ */ Object.create(null);\n  let stdinContents = null;\n  let stdinResolveDir = null;\n  pushLogFlags(flags, options, keys, isTTY, logLevelDefault);\n  pushCommonFlags(flags, options, keys);\n  let sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\n  let bundle = getFlag(options, keys, \"bundle\", mustBeBoolean);\n  let splitting = getFlag(options, keys, \"splitting\", mustBeBoolean);\n  let preserveSymlinks = getFlag(options, keys, \"preserveSymlinks\", mustBeBoolean);\n  let metafile = getFlag(options, keys, \"metafile\", mustBeBoolean);\n  let outfile = getFlag(options, keys, \"outfile\", mustBeString);\n  let outdir = getFlag(options, keys, \"outdir\", mustBeString);\n  let outbase = getFlag(options, keys, \"outbase\", mustBeString);\n  let tsconfig = getFlag(options, keys, \"tsconfig\", mustBeString);\n  let resolveExtensions = getFlag(options, keys, \"resolveExtensions\", mustBeArray);\n  let nodePathsInput = getFlag(options, keys, \"nodePaths\", mustBeArray);\n  let mainFields = getFlag(options, keys, \"mainFields\", mustBeArray);\n  let conditions = getFlag(options, keys, \"conditions\", mustBeArray);\n  let external = getFlag(options, keys, \"external\", mustBeArray);\n  let packages = getFlag(options, keys, \"packages\", mustBeString);\n  let alias = getFlag(options, keys, \"alias\", mustBeObject);\n  let loader = getFlag(options, keys, \"loader\", mustBeObject);\n  let outExtension = getFlag(options, keys, \"outExtension\", mustBeObject);\n  let publicPath = getFlag(options, keys, \"publicPath\", mustBeString);\n  let entryNames = getFlag(options, keys, \"entryNames\", mustBeString);\n  let chunkNames = getFlag(options, keys, \"chunkNames\", mustBeString);\n  let assetNames = getFlag(options, keys, \"assetNames\", mustBeString);\n  let inject = getFlag(options, keys, \"inject\", mustBeArray);\n  let banner = getFlag(options, keys, \"banner\", mustBeObject);\n  let footer = getFlag(options, keys, \"footer\", mustBeObject);\n  let entryPoints = getFlag(options, keys, \"entryPoints\", mustBeEntryPoints);\n  let absWorkingDir = getFlag(options, keys, \"absWorkingDir\", mustBeString);\n  let stdin = getFlag(options, keys, \"stdin\", mustBeObject);\n  let write = (_a = getFlag(options, keys, \"write\", mustBeBoolean)) != null ? _a : writeDefault;\n  let allowOverwrite = getFlag(options, keys, \"allowOverwrite\", mustBeBoolean);\n  let mangleCache = getFlag(options, keys, \"mangleCache\", mustBeObject);\n  keys.plugins = true;\n  checkForInvalidFlags(options, keys, `in ${callName}() call`);\n  if (sourcemap) flags.push(`--sourcemap${sourcemap === true ? \"\" : `=${sourcemap}`}`);\n  if (bundle) flags.push(\"--bundle\");\n  if (allowOverwrite) flags.push(\"--allow-overwrite\");\n  if (splitting) flags.push(\"--splitting\");\n  if (preserveSymlinks) flags.push(\"--preserve-symlinks\");\n  if (metafile) flags.push(`--metafile`);\n  if (outfile) flags.push(`--outfile=${outfile}`);\n  if (outdir) flags.push(`--outdir=${outdir}`);\n  if (outbase) flags.push(`--outbase=${outbase}`);\n  if (tsconfig) flags.push(`--tsconfig=${tsconfig}`);\n  if (packages) flags.push(`--packages=${packages}`);\n  if (resolveExtensions) {\n    let values = [];\n    for (let value of resolveExtensions) {\n      validateStringValue(value, \"resolve extension\");\n      if (value.indexOf(\",\") >= 0) throw new Error(`Invalid resolve extension: ${value}`);\n      values.push(value);\n    }\n    flags.push(`--resolve-extensions=${values.join(\",\")}`);\n  }\n  if (publicPath) flags.push(`--public-path=${publicPath}`);\n  if (entryNames) flags.push(`--entry-names=${entryNames}`);\n  if (chunkNames) flags.push(`--chunk-names=${chunkNames}`);\n  if (assetNames) flags.push(`--asset-names=${assetNames}`);\n  if (mainFields) {\n    let values = [];\n    for (let value of mainFields) {\n      validateStringValue(value, \"main field\");\n      if (value.indexOf(\",\") >= 0) throw new Error(`Invalid main field: ${value}`);\n      values.push(value);\n    }\n    flags.push(`--main-fields=${values.join(\",\")}`);\n  }\n  if (conditions) {\n    let values = [];\n    for (let value of conditions) {\n      validateStringValue(value, \"condition\");\n      if (value.indexOf(\",\") >= 0) throw new Error(`Invalid condition: ${value}`);\n      values.push(value);\n    }\n    flags.push(`--conditions=${values.join(\",\")}`);\n  }\n  if (external) for (let name of external) flags.push(`--external:${validateStringValue(name, \"external\")}`);\n  if (alias) {\n    for (let old in alias) {\n      if (old.indexOf(\"=\") >= 0) throw new Error(`Invalid package name in alias: ${old}`);\n      flags.push(`--alias:${old}=${validateStringValue(alias[old], \"alias\", old)}`);\n    }\n  }\n  if (banner) {\n    for (let type in banner) {\n      if (type.indexOf(\"=\") >= 0) throw new Error(`Invalid banner file type: ${type}`);\n      flags.push(`--banner:${type}=${validateStringValue(banner[type], \"banner\", type)}`);\n    }\n  }\n  if (footer) {\n    for (let type in footer) {\n      if (type.indexOf(\"=\") >= 0) throw new Error(`Invalid footer file type: ${type}`);\n      flags.push(`--footer:${type}=${validateStringValue(footer[type], \"footer\", type)}`);\n    }\n  }\n  if (inject) for (let path of inject) flags.push(`--inject:${validateStringValue(path, \"inject\")}`);\n  if (loader) {\n    for (let ext in loader) {\n      if (ext.indexOf(\"=\") >= 0) throw new Error(`Invalid loader extension: ${ext}`);\n      flags.push(`--loader:${ext}=${validateStringValue(loader[ext], \"loader\", ext)}`);\n    }\n  }\n  if (outExtension) {\n    for (let ext in outExtension) {\n      if (ext.indexOf(\"=\") >= 0) throw new Error(`Invalid out extension: ${ext}`);\n      flags.push(`--out-extension:${ext}=${validateStringValue(outExtension[ext], \"out extension\", ext)}`);\n    }\n  }\n  if (entryPoints) {\n    if (Array.isArray(entryPoints)) {\n      for (let i = 0, n = entryPoints.length; i < n; i++) {\n        let entryPoint = entryPoints[i];\n        if (typeof entryPoint === \"object\" && entryPoint !== null) {\n          let entryPointKeys = /* @__PURE__ */ Object.create(null);\n          let input = getFlag(entryPoint, entryPointKeys, \"in\", mustBeString);\n          let output = getFlag(entryPoint, entryPointKeys, \"out\", mustBeString);\n          checkForInvalidFlags(entryPoint, entryPointKeys, \"in entry point at index \" + i);\n          if (input === void 0) throw new Error('Missing property \"in\" for entry point at index ' + i);\n          if (output === void 0) throw new Error('Missing property \"out\" for entry point at index ' + i);\n          entries.push([output, input]);\n        } else {\n          entries.push([\"\", validateStringValue(entryPoint, \"entry point at index \" + i)]);\n        }\n      }\n    } else {\n      for (let key in entryPoints) {\n        entries.push([key, validateStringValue(entryPoints[key], \"entry point\", key)]);\n      }\n    }\n  }\n  if (stdin) {\n    let stdinKeys = /* @__PURE__ */ Object.create(null);\n    let contents = getFlag(stdin, stdinKeys, \"contents\", mustBeStringOrUint8Array);\n    let resolveDir = getFlag(stdin, stdinKeys, \"resolveDir\", mustBeString);\n    let sourcefile = getFlag(stdin, stdinKeys, \"sourcefile\", mustBeString);\n    let loader2 = getFlag(stdin, stdinKeys, \"loader\", mustBeString);\n    checkForInvalidFlags(stdin, stdinKeys, 'in \"stdin\" object');\n    if (sourcefile) flags.push(`--sourcefile=${sourcefile}`);\n    if (loader2) flags.push(`--loader=${loader2}`);\n    if (resolveDir) stdinResolveDir = resolveDir;\n    if (typeof contents === \"string\") stdinContents = encodeUTF8(contents);\n    else if (contents instanceof Uint8Array) stdinContents = contents;\n  }\n  let nodePaths = [];\n  if (nodePathsInput) {\n    for (let value of nodePathsInput) {\n      value += \"\";\n      nodePaths.push(value);\n    }\n  }\n  return {\n    entries,\n    flags,\n    write,\n    stdinContents,\n    stdinResolveDir,\n    absWorkingDir,\n    nodePaths,\n    mangleCache: validateMangleCache(mangleCache)\n  };\n}\nfunction flagsForTransformOptions(callName, options, isTTY, logLevelDefault) {\n  let flags = [];\n  let keys = /* @__PURE__ */ Object.create(null);\n  pushLogFlags(flags, options, keys, isTTY, logLevelDefault);\n  pushCommonFlags(flags, options, keys);\n  let sourcemap = getFlag(options, keys, \"sourcemap\", mustBeStringOrBoolean);\n  let sourcefile = getFlag(options, keys, \"sourcefile\", mustBeString);\n  let loader = getFlag(options, keys, \"loader\", mustBeString);\n  let banner = getFlag(options, keys, \"banner\", mustBeString);\n  let footer = getFlag(options, keys, \"footer\", mustBeString);\n  let mangleCache = getFlag(options, keys, \"mangleCache\", mustBeObject);\n  checkForInvalidFlags(options, keys, `in ${callName}() call`);\n  if (sourcemap) flags.push(`--sourcemap=${sourcemap === true ? \"external\" : sourcemap}`);\n  if (sourcefile) flags.push(`--sourcefile=${sourcefile}`);\n  if (loader) flags.push(`--loader=${loader}`);\n  if (banner) flags.push(`--banner=${banner}`);\n  if (footer) flags.push(`--footer=${footer}`);\n  return {\n    flags,\n    mangleCache: validateMangleCache(mangleCache)\n  };\n}\nfunction createChannel(streamIn) {\n  const requestCallbacksByKey = {};\n  const closeData = { didClose: false, reason: \"\" };\n  let responseCallbacks = {};\n  let nextRequestID = 0;\n  let nextBuildKey = 0;\n  let stdout = new Uint8Array(16 * 1024);\n  let stdoutUsed = 0;\n  let readFromStdout = (chunk) => {\n    let limit = stdoutUsed + chunk.length;\n    if (limit > stdout.length) {\n      let swap = new Uint8Array(limit * 2);\n      swap.set(stdout);\n      stdout = swap;\n    }\n    stdout.set(chunk, stdoutUsed);\n    stdoutUsed += chunk.length;\n    let offset = 0;\n    while (offset + 4 <= stdoutUsed) {\n      let length = readUInt32LE(stdout, offset);\n      if (offset + 4 + length > stdoutUsed) {\n        break;\n      }\n      offset += 4;\n      handleIncomingPacket(stdout.subarray(offset, offset + length));\n      offset += length;\n    }\n    if (offset > 0) {\n      stdout.copyWithin(0, offset, stdoutUsed);\n      stdoutUsed -= offset;\n    }\n  };\n  let afterClose = (error) => {\n    closeData.didClose = true;\n    if (error) closeData.reason = \": \" + (error.message || error);\n    const text = \"The service was stopped\" + closeData.reason;\n    for (let id in responseCallbacks) {\n      responseCallbacks[id](text, null);\n    }\n    responseCallbacks = {};\n  };\n  let sendRequest = (refs, value, callback) => {\n    if (closeData.didClose) return callback(\"The service is no longer running\" + closeData.reason, null);\n    let id = nextRequestID++;\n    responseCallbacks[id] = (error, response) => {\n      try {\n        callback(error, response);\n      } finally {\n        if (refs) refs.unref();\n      }\n    };\n    if (refs) refs.ref();\n    streamIn.writeToStdin(encodePacket({ id, isRequest: true, value }));\n  };\n  let sendResponse = (id, value) => {\n    if (closeData.didClose) throw new Error(\"The service is no longer running\" + closeData.reason);\n    streamIn.writeToStdin(encodePacket({ id, isRequest: false, value }));\n  };\n  let handleRequest = async (id, request) => {\n    try {\n      if (request.command === \"ping\") {\n        sendResponse(id, {});\n        return;\n      }\n      if (typeof request.key === \"number\") {\n        const requestCallbacks = requestCallbacksByKey[request.key];\n        if (!requestCallbacks) {\n          return;\n        }\n        const callback = requestCallbacks[request.command];\n        if (callback) {\n          await callback(id, request);\n          return;\n        }\n      }\n      throw new Error(`Invalid command: ` + request.command);\n    } catch (e) {\n      const errors = [extractErrorMessageV8(e, streamIn, null, void 0, \"\")];\n      try {\n        sendResponse(id, { errors });\n      } catch (e2) {\n      }\n    }\n  };\n  let isFirstPacket = true;\n  let handleIncomingPacket = (bytes) => {\n    if (isFirstPacket) {\n      isFirstPacket = false;\n      let binaryVersion = String.fromCharCode(...bytes);\n      if (binaryVersion !== \"0.24.2\") {\n        throw new Error(`Cannot start service: Host version \"${\"0.24.2\"}\" does not match binary version ${quote(binaryVersion)}`);\n      }\n      return;\n    }\n    let packet = decodePacket(bytes);\n    if (packet.isRequest) {\n      handleRequest(packet.id, packet.value);\n    } else {\n      let callback = responseCallbacks[packet.id];\n      delete responseCallbacks[packet.id];\n      if (packet.value.error) callback(packet.value.error, {});\n      else callback(null, packet.value);\n    }\n  };\n  let buildOrContext = ({ callName, refs, options, isTTY, defaultWD, callback }) => {\n    let refCount = 0;\n    const buildKey = nextBuildKey++;\n    const requestCallbacks = {};\n    const buildRefs = {\n      ref() {\n        if (++refCount === 1) {\n          if (refs) refs.ref();\n        }\n      },\n      unref() {\n        if (--refCount === 0) {\n          delete requestCallbacksByKey[buildKey];\n          if (refs) refs.unref();\n        }\n      }\n    };\n    requestCallbacksByKey[buildKey] = requestCallbacks;\n    buildRefs.ref();\n    buildOrContextImpl(\n      callName,\n      buildKey,\n      sendRequest,\n      sendResponse,\n      buildRefs,\n      streamIn,\n      requestCallbacks,\n      options,\n      isTTY,\n      defaultWD,\n      (err, res) => {\n        try {\n          callback(err, res);\n        } finally {\n          buildRefs.unref();\n        }\n      }\n    );\n  };\n  let transform2 = ({ callName, refs, input, options, isTTY, fs, callback }) => {\n    const details = createObjectStash();\n    let start = (inputPath) => {\n      try {\n        if (typeof input !== \"string\" && !(input instanceof Uint8Array))\n          throw new Error('The input to \"transform\" must be a string or a Uint8Array');\n        let {\n          flags,\n          mangleCache\n        } = flagsForTransformOptions(callName, options, isTTY, transformLogLevelDefault);\n        let request = {\n          command: \"transform\",\n          flags,\n          inputFS: inputPath !== null,\n          input: inputPath !== null ? encodeUTF8(inputPath) : typeof input === \"string\" ? encodeUTF8(input) : input\n        };\n        if (mangleCache) request.mangleCache = mangleCache;\n        sendRequest(refs, request, (error, response) => {\n          if (error) return callback(new Error(error), null);\n          let errors = replaceDetailsInMessages(response.errors, details);\n          let warnings = replaceDetailsInMessages(response.warnings, details);\n          let outstanding = 1;\n          let next = () => {\n            if (--outstanding === 0) {\n              let result = {\n                warnings,\n                code: response.code,\n                map: response.map,\n                mangleCache: void 0,\n                legalComments: void 0\n              };\n              if (\"legalComments\" in response) result.legalComments = response == null ? void 0 : response.legalComments;\n              if (response.mangleCache) result.mangleCache = response == null ? void 0 : response.mangleCache;\n              callback(null, result);\n            }\n          };\n          if (errors.length > 0) return callback(failureErrorWithLog(\"Transform failed\", errors, warnings), null);\n          if (response.codeFS) {\n            outstanding++;\n            fs.readFile(response.code, (err, contents) => {\n              if (err !== null) {\n                callback(err, null);\n              } else {\n                response.code = contents;\n                next();\n              }\n            });\n          }\n          if (response.mapFS) {\n            outstanding++;\n            fs.readFile(response.map, (err, contents) => {\n              if (err !== null) {\n                callback(err, null);\n              } else {\n                response.map = contents;\n                next();\n              }\n            });\n          }\n          next();\n        });\n      } catch (e) {\n        let flags = [];\n        try {\n          pushLogFlags(flags, options, {}, isTTY, transformLogLevelDefault);\n        } catch (e2) {\n        }\n        const error = extractErrorMessageV8(e, streamIn, details, void 0, \"\");\n        sendRequest(refs, { command: \"error\", flags, error }, () => {\n          error.detail = details.load(error.detail);\n          callback(failureErrorWithLog(\"Transform failed\", [error], []), null);\n        });\n      }\n    };\n    if ((typeof input === \"string\" || input instanceof Uint8Array) && input.length > 1024 * 1024) {\n      let next = start;\n      start = () => fs.writeFile(input, next);\n    }\n    start(null);\n  };\n  let formatMessages2 = ({ callName, refs, messages, options, callback }) => {\n    if (!options) throw new Error(`Missing second argument in ${callName}() call`);\n    let keys = {};\n    let kind = getFlag(options, keys, \"kind\", mustBeString);\n    let color = getFlag(options, keys, \"color\", mustBeBoolean);\n    let terminalWidth = getFlag(options, keys, \"terminalWidth\", mustBeInteger);\n    checkForInvalidFlags(options, keys, `in ${callName}() call`);\n    if (kind === void 0) throw new Error(`Missing \"kind\" in ${callName}() call`);\n    if (kind !== \"error\" && kind !== \"warning\") throw new Error(`Expected \"kind\" to be \"error\" or \"warning\" in ${callName}() call`);\n    let request = {\n      command: \"format-msgs\",\n      messages: sanitizeMessages(messages, \"messages\", null, \"\", terminalWidth),\n      isWarning: kind === \"warning\"\n    };\n    if (color !== void 0) request.color = color;\n    if (terminalWidth !== void 0) request.terminalWidth = terminalWidth;\n    sendRequest(refs, request, (error, response) => {\n      if (error) return callback(new Error(error), null);\n      callback(null, response.messages);\n    });\n  };\n  let analyzeMetafile2 = ({ callName, refs, metafile, options, callback }) => {\n    if (options === void 0) options = {};\n    let keys = {};\n    let color = getFlag(options, keys, \"color\", mustBeBoolean);\n    let verbose = getFlag(options, keys, \"verbose\", mustBeBoolean);\n    checkForInvalidFlags(options, keys, `in ${callName}() call`);\n    let request = {\n      command: \"analyze-metafile\",\n      metafile\n    };\n    if (color !== void 0) request.color = color;\n    if (verbose !== void 0) request.verbose = verbose;\n    sendRequest(refs, request, (error, response) => {\n      if (error) return callback(new Error(error), null);\n      callback(null, response.result);\n    });\n  };\n  return {\n    readFromStdout,\n    afterClose,\n    service: {\n      buildOrContext,\n      transform: transform2,\n      formatMessages: formatMessages2,\n      analyzeMetafile: analyzeMetafile2\n    }\n  };\n}\nfunction buildOrContextImpl(callName, buildKey, sendRequest, sendResponse, refs, streamIn, requestCallbacks, options, isTTY, defaultWD, callback) {\n  const details = createObjectStash();\n  const isContext = callName === \"context\";\n  const handleError = (e, pluginName) => {\n    const flags = [];\n    try {\n      pushLogFlags(flags, options, {}, isTTY, buildLogLevelDefault);\n    } catch (e2) {\n    }\n    const message = extractErrorMessageV8(e, streamIn, details, void 0, pluginName);\n    sendRequest(refs, { command: \"error\", flags, error: message }, () => {\n      message.detail = details.load(message.detail);\n      callback(failureErrorWithLog(isContext ? \"Context failed\" : \"Build failed\", [message], []), null);\n    });\n  };\n  let plugins;\n  if (typeof options === \"object\") {\n    const value = options.plugins;\n    if (value !== void 0) {\n      if (!Array.isArray(value)) return handleError(new Error(`\"plugins\" must be an array`), \"\");\n      plugins = value;\n    }\n  }\n  if (plugins && plugins.length > 0) {\n    if (streamIn.isSync) return handleError(new Error(\"Cannot use plugins in synchronous API calls\"), \"\");\n    handlePlugins(\n      buildKey,\n      sendRequest,\n      sendResponse,\n      refs,\n      streamIn,\n      requestCallbacks,\n      options,\n      plugins,\n      details\n    ).then(\n      (result) => {\n        if (!result.ok) return handleError(result.error, result.pluginName);\n        try {\n          buildOrContextContinue(result.requestPlugins, result.runOnEndCallbacks, result.scheduleOnDisposeCallbacks);\n        } catch (e) {\n          handleError(e, \"\");\n        }\n      },\n      (e) => handleError(e, \"\")\n    );\n    return;\n  }\n  try {\n    buildOrContextContinue(null, (result, done) => done([], []), () => {\n    });\n  } catch (e) {\n    handleError(e, \"\");\n  }\n  function buildOrContextContinue(requestPlugins, runOnEndCallbacks, scheduleOnDisposeCallbacks) {\n    const writeDefault = streamIn.hasFS;\n    const {\n      entries,\n      flags,\n      write,\n      stdinContents,\n      stdinResolveDir,\n      absWorkingDir,\n      nodePaths,\n      mangleCache\n    } = flagsForBuildOptions(callName, options, isTTY, buildLogLevelDefault, writeDefault);\n    if (write && !streamIn.hasFS) throw new Error(`The \"write\" option is unavailable in this environment`);\n    const request = {\n      command: \"build\",\n      key: buildKey,\n      entries,\n      flags,\n      write,\n      stdinContents,\n      stdinResolveDir,\n      absWorkingDir: absWorkingDir || defaultWD,\n      nodePaths,\n      context: isContext\n    };\n    if (requestPlugins) request.plugins = requestPlugins;\n    if (mangleCache) request.mangleCache = mangleCache;\n    const buildResponseToResult = (response, callback2) => {\n      const result = {\n        errors: replaceDetailsInMessages(response.errors, details),\n        warnings: replaceDetailsInMessages(response.warnings, details),\n        outputFiles: void 0,\n        metafile: void 0,\n        mangleCache: void 0\n      };\n      const originalErrors = result.errors.slice();\n      const originalWarnings = result.warnings.slice();\n      if (response.outputFiles) result.outputFiles = response.outputFiles.map(convertOutputFiles);\n      if (response.metafile) result.metafile = JSON.parse(response.metafile);\n      if (response.mangleCache) result.mangleCache = response.mangleCache;\n      if (response.writeToStdout !== void 0) console.log(decodeUTF8(response.writeToStdout).replace(/\\n$/, \"\"));\n      runOnEndCallbacks(result, (onEndErrors, onEndWarnings) => {\n        if (originalErrors.length > 0 || onEndErrors.length > 0) {\n          const error = failureErrorWithLog(\"Build failed\", originalErrors.concat(onEndErrors), originalWarnings.concat(onEndWarnings));\n          return callback2(error, null, onEndErrors, onEndWarnings);\n        }\n        callback2(null, result, onEndErrors, onEndWarnings);\n      });\n    };\n    let latestResultPromise;\n    let provideLatestResult;\n    if (isContext)\n      requestCallbacks[\"on-end\"] = (id, request2) => new Promise((resolve) => {\n        buildResponseToResult(request2, (err, result, onEndErrors, onEndWarnings) => {\n          const response = {\n            errors: onEndErrors,\n            warnings: onEndWarnings\n          };\n          if (provideLatestResult) provideLatestResult(err, result);\n          latestResultPromise = void 0;\n          provideLatestResult = void 0;\n          sendResponse(id, response);\n          resolve();\n        });\n      });\n    sendRequest(refs, request, (error, response) => {\n      if (error) return callback(new Error(error), null);\n      if (!isContext) {\n        return buildResponseToResult(response, (err, res) => {\n          scheduleOnDisposeCallbacks();\n          return callback(err, res);\n        });\n      }\n      if (response.errors.length > 0) {\n        return callback(failureErrorWithLog(\"Context failed\", response.errors, response.warnings), null);\n      }\n      let didDispose = false;\n      const result = {\n        rebuild: () => {\n          if (!latestResultPromise) latestResultPromise = new Promise((resolve, reject) => {\n            let settlePromise;\n            provideLatestResult = (err, result2) => {\n              if (!settlePromise) settlePromise = () => err ? reject(err) : resolve(result2);\n            };\n            const triggerAnotherBuild = () => {\n              const request2 = {\n                command: \"rebuild\",\n                key: buildKey\n              };\n              sendRequest(refs, request2, (error2, response2) => {\n                if (error2) {\n                  reject(new Error(error2));\n                } else if (settlePromise) {\n                  settlePromise();\n                } else {\n                  triggerAnotherBuild();\n                }\n              });\n            };\n            triggerAnotherBuild();\n          });\n          return latestResultPromise;\n        },\n        watch: (options2 = {}) => new Promise((resolve, reject) => {\n          if (!streamIn.hasFS) throw new Error(`Cannot use the \"watch\" API in this environment`);\n          const keys = {};\n          checkForInvalidFlags(options2, keys, `in watch() call`);\n          const request2 = {\n            command: \"watch\",\n            key: buildKey\n          };\n          sendRequest(refs, request2, (error2) => {\n            if (error2) reject(new Error(error2));\n            else resolve(void 0);\n          });\n        }),\n        serve: (options2 = {}) => new Promise((resolve, reject) => {\n          if (!streamIn.hasFS) throw new Error(`Cannot use the \"serve\" API in this environment`);\n          const keys = {};\n          const port = getFlag(options2, keys, \"port\", mustBeInteger);\n          const host = getFlag(options2, keys, \"host\", mustBeString);\n          const servedir = getFlag(options2, keys, \"servedir\", mustBeString);\n          const keyfile = getFlag(options2, keys, \"keyfile\", mustBeString);\n          const certfile = getFlag(options2, keys, \"certfile\", mustBeString);\n          const fallback = getFlag(options2, keys, \"fallback\", mustBeString);\n          const onRequest = getFlag(options2, keys, \"onRequest\", mustBeFunction);\n          checkForInvalidFlags(options2, keys, `in serve() call`);\n          const request2 = {\n            command: \"serve\",\n            key: buildKey,\n            onRequest: !!onRequest\n          };\n          if (port !== void 0) request2.port = port;\n          if (host !== void 0) request2.host = host;\n          if (servedir !== void 0) request2.servedir = servedir;\n          if (keyfile !== void 0) request2.keyfile = keyfile;\n          if (certfile !== void 0) request2.certfile = certfile;\n          if (fallback !== void 0) request2.fallback = fallback;\n          sendRequest(refs, request2, (error2, response2) => {\n            if (error2) return reject(new Error(error2));\n            if (onRequest) {\n              requestCallbacks[\"serve-request\"] = (id, request3) => {\n                onRequest(request3.args);\n                sendResponse(id, {});\n              };\n            }\n            resolve(response2);\n          });\n        }),\n        cancel: () => new Promise((resolve) => {\n          if (didDispose) return resolve();\n          const request2 = {\n            command: \"cancel\",\n            key: buildKey\n          };\n          sendRequest(refs, request2, () => {\n            resolve();\n          });\n        }),\n        dispose: () => new Promise((resolve) => {\n          if (didDispose) return resolve();\n          didDispose = true;\n          const request2 = {\n            command: \"dispose\",\n            key: buildKey\n          };\n          sendRequest(refs, request2, () => {\n            resolve();\n            scheduleOnDisposeCallbacks();\n            refs.unref();\n          });\n        })\n      };\n      refs.ref();\n      callback(null, result);\n    });\n  }\n}\nvar handlePlugins = async (buildKey, sendRequest, sendResponse, refs, streamIn, requestCallbacks, initialOptions, plugins, details) => {\n  let onStartCallbacks = [];\n  let onEndCallbacks = [];\n  let onResolveCallbacks = {};\n  let onLoadCallbacks = {};\n  let onDisposeCallbacks = [];\n  let nextCallbackID = 0;\n  let i = 0;\n  let requestPlugins = [];\n  let isSetupDone = false;\n  plugins = [...plugins];\n  for (let item of plugins) {\n    let keys = {};\n    if (typeof item !== \"object\") throw new Error(`Plugin at index ${i} must be an object`);\n    const name = getFlag(item, keys, \"name\", mustBeString);\n    if (typeof name !== \"string\" || name === \"\") throw new Error(`Plugin at index ${i} is missing a name`);\n    try {\n      let setup = getFlag(item, keys, \"setup\", mustBeFunction);\n      if (typeof setup !== \"function\") throw new Error(`Plugin is missing a setup function`);\n      checkForInvalidFlags(item, keys, `on plugin ${quote(name)}`);\n      let plugin = {\n        name,\n        onStart: false,\n        onEnd: false,\n        onResolve: [],\n        onLoad: []\n      };\n      i++;\n      let resolve = (path, options = {}) => {\n        if (!isSetupDone) throw new Error('Cannot call \"resolve\" before plugin setup has completed');\n        if (typeof path !== \"string\") throw new Error(`The path to resolve must be a string`);\n        let keys2 = /* @__PURE__ */ Object.create(null);\n        let pluginName = getFlag(options, keys2, \"pluginName\", mustBeString);\n        let importer = getFlag(options, keys2, \"importer\", mustBeString);\n        let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\n        let resolveDir = getFlag(options, keys2, \"resolveDir\", mustBeString);\n        let kind = getFlag(options, keys2, \"kind\", mustBeString);\n        let pluginData = getFlag(options, keys2, \"pluginData\", canBeAnything);\n        let importAttributes = getFlag(options, keys2, \"with\", mustBeObject);\n        checkForInvalidFlags(options, keys2, \"in resolve() call\");\n        return new Promise((resolve2, reject) => {\n          const request = {\n            command: \"resolve\",\n            path,\n            key: buildKey,\n            pluginName: name\n          };\n          if (pluginName != null) request.pluginName = pluginName;\n          if (importer != null) request.importer = importer;\n          if (namespace != null) request.namespace = namespace;\n          if (resolveDir != null) request.resolveDir = resolveDir;\n          if (kind != null) request.kind = kind;\n          else throw new Error(`Must specify \"kind\" when calling \"resolve\"`);\n          if (pluginData != null) request.pluginData = details.store(pluginData);\n          if (importAttributes != null) request.with = sanitizeStringMap(importAttributes, \"with\");\n          sendRequest(refs, request, (error, response) => {\n            if (error !== null) reject(new Error(error));\n            else resolve2({\n              errors: replaceDetailsInMessages(response.errors, details),\n              warnings: replaceDetailsInMessages(response.warnings, details),\n              path: response.path,\n              external: response.external,\n              sideEffects: response.sideEffects,\n              namespace: response.namespace,\n              suffix: response.suffix,\n              pluginData: details.load(response.pluginData)\n            });\n          });\n        });\n      };\n      let promise = setup({\n        initialOptions,\n        resolve,\n        onStart(callback) {\n          let registeredText = `This error came from the \"onStart\" callback registered here:`;\n          let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onStart\");\n          onStartCallbacks.push({ name, callback, note: registeredNote });\n          plugin.onStart = true;\n        },\n        onEnd(callback) {\n          let registeredText = `This error came from the \"onEnd\" callback registered here:`;\n          let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onEnd\");\n          onEndCallbacks.push({ name, callback, note: registeredNote });\n          plugin.onEnd = true;\n        },\n        onResolve(options, callback) {\n          let registeredText = `This error came from the \"onResolve\" callback registered here:`;\n          let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onResolve\");\n          let keys2 = {};\n          let filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\n          let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\n          checkForInvalidFlags(options, keys2, `in onResolve() call for plugin ${quote(name)}`);\n          if (filter == null) throw new Error(`onResolve() call is missing a filter`);\n          let id = nextCallbackID++;\n          onResolveCallbacks[id] = { name, callback, note: registeredNote };\n          plugin.onResolve.push({ id, filter: filter.source, namespace: namespace || \"\" });\n        },\n        onLoad(options, callback) {\n          let registeredText = `This error came from the \"onLoad\" callback registered here:`;\n          let registeredNote = extractCallerV8(new Error(registeredText), streamIn, \"onLoad\");\n          let keys2 = {};\n          let filter = getFlag(options, keys2, \"filter\", mustBeRegExp);\n          let namespace = getFlag(options, keys2, \"namespace\", mustBeString);\n          checkForInvalidFlags(options, keys2, `in onLoad() call for plugin ${quote(name)}`);\n          if (filter == null) throw new Error(`onLoad() call is missing a filter`);\n          let id = nextCallbackID++;\n          onLoadCallbacks[id] = { name, callback, note: registeredNote };\n          plugin.onLoad.push({ id, filter: filter.source, namespace: namespace || \"\" });\n        },\n        onDispose(callback) {\n          onDisposeCallbacks.push(callback);\n        },\n        esbuild: streamIn.esbuild\n      });\n      if (promise) await promise;\n      requestPlugins.push(plugin);\n    } catch (e) {\n      return { ok: false, error: e, pluginName: name };\n    }\n  }\n  requestCallbacks[\"on-start\"] = async (id, request) => {\n    details.clear();\n    let response = { errors: [], warnings: [] };\n    await Promise.all(onStartCallbacks.map(async ({ name, callback, note }) => {\n      try {\n        let result = await callback();\n        if (result != null) {\n          if (typeof result !== \"object\") throw new Error(`Expected onStart() callback in plugin ${quote(name)} to return an object`);\n          let keys = {};\n          let errors = getFlag(result, keys, \"errors\", mustBeArray);\n          let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\n          checkForInvalidFlags(result, keys, `from onStart() callback in plugin ${quote(name)}`);\n          if (errors != null) response.errors.push(...sanitizeMessages(errors, \"errors\", details, name, void 0));\n          if (warnings != null) response.warnings.push(...sanitizeMessages(warnings, \"warnings\", details, name, void 0));\n        }\n      } catch (e) {\n        response.errors.push(extractErrorMessageV8(e, streamIn, details, note && note(), name));\n      }\n    }));\n    sendResponse(id, response);\n  };\n  requestCallbacks[\"on-resolve\"] = async (id, request) => {\n    let response = {}, name = \"\", callback, note;\n    for (let id2 of request.ids) {\n      try {\n        ({ name, callback, note } = onResolveCallbacks[id2]);\n        let result = await callback({\n          path: request.path,\n          importer: request.importer,\n          namespace: request.namespace,\n          resolveDir: request.resolveDir,\n          kind: request.kind,\n          pluginData: details.load(request.pluginData),\n          with: request.with\n        });\n        if (result != null) {\n          if (typeof result !== \"object\") throw new Error(`Expected onResolve() callback in plugin ${quote(name)} to return an object`);\n          let keys = {};\n          let pluginName = getFlag(result, keys, \"pluginName\", mustBeString);\n          let path = getFlag(result, keys, \"path\", mustBeString);\n          let namespace = getFlag(result, keys, \"namespace\", mustBeString);\n          let suffix = getFlag(result, keys, \"suffix\", mustBeString);\n          let external = getFlag(result, keys, \"external\", mustBeBoolean);\n          let sideEffects = getFlag(result, keys, \"sideEffects\", mustBeBoolean);\n          let pluginData = getFlag(result, keys, \"pluginData\", canBeAnything);\n          let errors = getFlag(result, keys, \"errors\", mustBeArray);\n          let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\n          let watchFiles = getFlag(result, keys, \"watchFiles\", mustBeArray);\n          let watchDirs = getFlag(result, keys, \"watchDirs\", mustBeArray);\n          checkForInvalidFlags(result, keys, `from onResolve() callback in plugin ${quote(name)}`);\n          response.id = id2;\n          if (pluginName != null) response.pluginName = pluginName;\n          if (path != null) response.path = path;\n          if (namespace != null) response.namespace = namespace;\n          if (suffix != null) response.suffix = suffix;\n          if (external != null) response.external = external;\n          if (sideEffects != null) response.sideEffects = sideEffects;\n          if (pluginData != null) response.pluginData = details.store(pluginData);\n          if (errors != null) response.errors = sanitizeMessages(errors, \"errors\", details, name, void 0);\n          if (warnings != null) response.warnings = sanitizeMessages(warnings, \"warnings\", details, name, void 0);\n          if (watchFiles != null) response.watchFiles = sanitizeStringArray(watchFiles, \"watchFiles\");\n          if (watchDirs != null) response.watchDirs = sanitizeStringArray(watchDirs, \"watchDirs\");\n          break;\n        }\n      } catch (e) {\n        response = { id: id2, errors: [extractErrorMessageV8(e, streamIn, details, note && note(), name)] };\n        break;\n      }\n    }\n    sendResponse(id, response);\n  };\n  requestCallbacks[\"on-load\"] = async (id, request) => {\n    let response = {}, name = \"\", callback, note;\n    for (let id2 of request.ids) {\n      try {\n        ({ name, callback, note } = onLoadCallbacks[id2]);\n        let result = await callback({\n          path: request.path,\n          namespace: request.namespace,\n          suffix: request.suffix,\n          pluginData: details.load(request.pluginData),\n          with: request.with\n        });\n        if (result != null) {\n          if (typeof result !== \"object\") throw new Error(`Expected onLoad() callback in plugin ${quote(name)} to return an object`);\n          let keys = {};\n          let pluginName = getFlag(result, keys, \"pluginName\", mustBeString);\n          let contents = getFlag(result, keys, \"contents\", mustBeStringOrUint8Array);\n          let resolveDir = getFlag(result, keys, \"resolveDir\", mustBeString);\n          let pluginData = getFlag(result, keys, \"pluginData\", canBeAnything);\n          let loader = getFlag(result, keys, \"loader\", mustBeString);\n          let errors = getFlag(result, keys, \"errors\", mustBeArray);\n          let warnings = getFlag(result, keys, \"warnings\", mustBeArray);\n          let watchFiles = getFlag(result, keys, \"watchFiles\", mustBeArray);\n          let watchDirs = getFlag(result, keys, \"watchDirs\", mustBeArray);\n          checkForInvalidFlags(result, keys, `from onLoad() callback in plugin ${quote(name)}`);\n          response.id = id2;\n          if (pluginName != null) response.pluginName = pluginName;\n          if (contents instanceof Uint8Array) response.contents = contents;\n          else if (contents != null) response.contents = encodeUTF8(contents);\n          if (resolveDir != null) response.resolveDir = resolveDir;\n          if (pluginData != null) response.pluginData = details.store(pluginData);\n          if (loader != null) response.loader = loader;\n          if (errors != null) response.errors = sanitizeMessages(errors, \"errors\", details, name, void 0);\n          if (warnings != null) response.warnings = sanitizeMessages(warnings, \"warnings\", details, name, void 0);\n          if (watchFiles != null) response.watchFiles = sanitizeStringArray(watchFiles, \"watchFiles\");\n          if (watchDirs != null) response.watchDirs = sanitizeStringArray(watchDirs, \"watchDirs\");\n          break;\n        }\n      } catch (e) {\n        response = { id: id2, errors: [extractErrorMessageV8(e, streamIn, details, note && note(), name)] };\n        break;\n      }\n    }\n    sendResponse(id, response);\n  };\n  let runOnEndCallbacks = (result, done) => done([], []);\n  if (onEndCallbacks.length > 0) {\n    runOnEndCallbacks = (result, done) => {\n      (async () => {\n        const onEndErrors = [];\n        const onEndWarnings = [];\n        for (const { name, callback, note } of onEndCallbacks) {\n          let newErrors;\n          let newWarnings;\n          try {\n            const value = await callback(result);\n            if (value != null) {\n              if (typeof value !== \"object\") throw new Error(`Expected onEnd() callback in plugin ${quote(name)} to return an object`);\n              let keys = {};\n              let errors = getFlag(value, keys, \"errors\", mustBeArray);\n              let warnings = getFlag(value, keys, \"warnings\", mustBeArray);\n              checkForInvalidFlags(value, keys, `from onEnd() callback in plugin ${quote(name)}`);\n              if (errors != null) newErrors = sanitizeMessages(errors, \"errors\", details, name, void 0);\n              if (warnings != null) newWarnings = sanitizeMessages(warnings, \"warnings\", details, name, void 0);\n            }\n          } catch (e) {\n            newErrors = [extractErrorMessageV8(e, streamIn, details, note && note(), name)];\n          }\n          if (newErrors) {\n            onEndErrors.push(...newErrors);\n            try {\n              result.errors.push(...newErrors);\n            } catch (e) {\n            }\n          }\n          if (newWarnings) {\n            onEndWarnings.push(...newWarnings);\n            try {\n              result.warnings.push(...newWarnings);\n            } catch (e) {\n            }\n          }\n        }\n        done(onEndErrors, onEndWarnings);\n      })();\n    };\n  }\n  let scheduleOnDisposeCallbacks = () => {\n    for (const cb of onDisposeCallbacks) {\n      setTimeout(() => cb(), 0);\n    }\n  };\n  isSetupDone = true;\n  return {\n    ok: true,\n    requestPlugins,\n    runOnEndCallbacks,\n    scheduleOnDisposeCallbacks\n  };\n};\nfunction createObjectStash() {\n  const map = /* @__PURE__ */ new Map();\n  let nextID = 0;\n  return {\n    clear() {\n      map.clear();\n    },\n    load(id) {\n      return map.get(id);\n    },\n    store(value) {\n      if (value === void 0) return -1;\n      const id = nextID++;\n      map.set(id, value);\n      return id;\n    }\n  };\n}\nfunction extractCallerV8(e, streamIn, ident) {\n  let note;\n  let tried = false;\n  return () => {\n    if (tried) return note;\n    tried = true;\n    try {\n      let lines = (e.stack + \"\").split(\"\\n\");\n      lines.splice(1, 1);\n      let location2 = parseStackLinesV8(streamIn, lines, ident);\n      if (location2) {\n        note = { text: e.message, location: location2 };\n        return note;\n      }\n    } catch (e2) {\n    }\n  };\n}\nfunction extractErrorMessageV8(e, streamIn, stash, note, pluginName) {\n  let text = \"Internal error\";\n  let location2 = null;\n  try {\n    text = (e && e.message || e) + \"\";\n  } catch (e2) {\n  }\n  try {\n    location2 = parseStackLinesV8(streamIn, (e.stack + \"\").split(\"\\n\"), \"\");\n  } catch (e2) {\n  }\n  return { id: \"\", pluginName, text, location: location2, notes: note ? [note] : [], detail: stash ? stash.store(e) : -1 };\n}\nfunction parseStackLinesV8(streamIn, lines, ident) {\n  let at = \"    at \";\n  if (streamIn.readFileSync && !lines[0].startsWith(at) && lines[1].startsWith(at)) {\n    for (let i = 1; i < lines.length; i++) {\n      let line = lines[i];\n      if (!line.startsWith(at)) continue;\n      line = line.slice(at.length);\n      while (true) {\n        let match = /^(?:new |async )?\\S+ \\((.*)\\)$/.exec(line);\n        if (match) {\n          line = match[1];\n          continue;\n        }\n        match = /^eval at \\S+ \\((.*)\\)(?:, \\S+:\\d+:\\d+)?$/.exec(line);\n        if (match) {\n          line = match[1];\n          continue;\n        }\n        match = /^(\\S+):(\\d+):(\\d+)$/.exec(line);\n        if (match) {\n          let contents;\n          try {\n            contents = streamIn.readFileSync(match[1], \"utf8\");\n          } catch (e) {\n            break;\n          }\n          let lineText = contents.split(/\\r\\n|\\r|\\n|\\u2028|\\u2029/)[+match[2] - 1] || \"\";\n          let column = +match[3] - 1;\n          let length = lineText.slice(column, column + ident.length) === ident ? ident.length : 0;\n          return {\n            file: match[1],\n            namespace: \"file\",\n            line: +match[2],\n            column: encodeUTF8(lineText.slice(0, column)).length,\n            length: encodeUTF8(lineText.slice(column, column + length)).length,\n            lineText: lineText + \"\\n\" + lines.slice(1).join(\"\\n\"),\n            suggestion: \"\"\n          };\n        }\n        break;\n      }\n    }\n  }\n  return null;\n}\nfunction failureErrorWithLog(text, errors, warnings) {\n  let limit = 5;\n  text += errors.length < 1 ? \"\" : ` with ${errors.length} error${errors.length < 2 ? \"\" : \"s\"}:` + errors.slice(0, limit + 1).map((e, i) => {\n    if (i === limit) return \"\\n...\";\n    if (!e.location) return `\nerror: ${e.text}`;\n    let { file, line, column } = e.location;\n    let pluginText = e.pluginName ? `[plugin: ${e.pluginName}] ` : \"\";\n    return `\n${file}:${line}:${column}: ERROR: ${pluginText}${e.text}`;\n  }).join(\"\");\n  let error = new Error(text);\n  for (const [key, value] of [[\"errors\", errors], [\"warnings\", warnings]]) {\n    Object.defineProperty(error, key, {\n      configurable: true,\n      enumerable: true,\n      get: () => value,\n      set: (value2) => Object.defineProperty(error, key, {\n        configurable: true,\n        enumerable: true,\n        value: value2\n      })\n    });\n  }\n  return error;\n}\nfunction replaceDetailsInMessages(messages, stash) {\n  for (const message of messages) {\n    message.detail = stash.load(message.detail);\n  }\n  return messages;\n}\nfunction sanitizeLocation(location2, where, terminalWidth) {\n  if (location2 == null) return null;\n  let keys = {};\n  let file = getFlag(location2, keys, \"file\", mustBeString);\n  let namespace = getFlag(location2, keys, \"namespace\", mustBeString);\n  let line = getFlag(location2, keys, \"line\", mustBeInteger);\n  let column = getFlag(location2, keys, \"column\", mustBeInteger);\n  let length = getFlag(location2, keys, \"length\", mustBeInteger);\n  let lineText = getFlag(location2, keys, \"lineText\", mustBeString);\n  let suggestion = getFlag(location2, keys, \"suggestion\", mustBeString);\n  checkForInvalidFlags(location2, keys, where);\n  if (lineText) {\n    const relevantASCII = lineText.slice(\n      0,\n      (column && column > 0 ? column : 0) + (length && length > 0 ? length : 0) + (terminalWidth && terminalWidth > 0 ? terminalWidth : 80)\n    );\n    if (!/[\\x7F-\\uFFFF]/.test(relevantASCII) && !/\\n/.test(lineText)) {\n      lineText = relevantASCII;\n    }\n  }\n  return {\n    file: file || \"\",\n    namespace: namespace || \"\",\n    line: line || 0,\n    column: column || 0,\n    length: length || 0,\n    lineText: lineText || \"\",\n    suggestion: suggestion || \"\"\n  };\n}\nfunction sanitizeMessages(messages, property, stash, fallbackPluginName, terminalWidth) {\n  let messagesClone = [];\n  let index = 0;\n  for (const message of messages) {\n    let keys = {};\n    let id = getFlag(message, keys, \"id\", mustBeString);\n    let pluginName = getFlag(message, keys, \"pluginName\", mustBeString);\n    let text = getFlag(message, keys, \"text\", mustBeString);\n    let location2 = getFlag(message, keys, \"location\", mustBeObjectOrNull);\n    let notes = getFlag(message, keys, \"notes\", mustBeArray);\n    let detail = getFlag(message, keys, \"detail\", canBeAnything);\n    let where = `in element ${index} of \"${property}\"`;\n    checkForInvalidFlags(message, keys, where);\n    let notesClone = [];\n    if (notes) {\n      for (const note of notes) {\n        let noteKeys = {};\n        let noteText = getFlag(note, noteKeys, \"text\", mustBeString);\n        let noteLocation = getFlag(note, noteKeys, \"location\", mustBeObjectOrNull);\n        checkForInvalidFlags(note, noteKeys, where);\n        notesClone.push({\n          text: noteText || \"\",\n          location: sanitizeLocation(noteLocation, where, terminalWidth)\n        });\n      }\n    }\n    messagesClone.push({\n      id: id || \"\",\n      pluginName: pluginName || fallbackPluginName,\n      text: text || \"\",\n      location: sanitizeLocation(location2, where, terminalWidth),\n      notes: notesClone,\n      detail: stash ? stash.store(detail) : -1\n    });\n    index++;\n  }\n  return messagesClone;\n}\nfunction sanitizeStringArray(values, property) {\n  const result = [];\n  for (const value of values) {\n    if (typeof value !== \"string\") throw new Error(`${quote(property)} must be an array of strings`);\n    result.push(value);\n  }\n  return result;\n}\nfunction sanitizeStringMap(map, property) {\n  const result = /* @__PURE__ */ Object.create(null);\n  for (const key in map) {\n    const value = map[key];\n    if (typeof value !== \"string\") throw new Error(`key ${quote(key)} in object ${quote(property)} must be a string`);\n    result[key] = value;\n  }\n  return result;\n}\nfunction convertOutputFiles({ path, contents, hash }) {\n  let text = null;\n  return {\n    path,\n    contents,\n    hash,\n    get text() {\n      const binary = this.contents;\n      if (text === null || binary !== contents) {\n        contents = binary;\n        text = decodeUTF8(binary);\n      }\n      return text;\n    }\n  };\n}\n\n// lib/npm/browser.ts\nvar version = \"0.24.2\";\nvar build = (options) => ensureServiceIsRunning().build(options);\nvar context = (options) => ensureServiceIsRunning().context(options);\nvar transform = (input, options) => ensureServiceIsRunning().transform(input, options);\nvar formatMessages = (messages, options) => ensureServiceIsRunning().formatMessages(messages, options);\nvar analyzeMetafile = (metafile, options) => ensureServiceIsRunning().analyzeMetafile(metafile, options);\nvar buildSync = () => {\n  throw new Error(`The \"buildSync\" API only works in node`);\n};\nvar transformSync = () => {\n  throw new Error(`The \"transformSync\" API only works in node`);\n};\nvar formatMessagesSync = () => {\n  throw new Error(`The \"formatMessagesSync\" API only works in node`);\n};\nvar analyzeMetafileSync = () => {\n  throw new Error(`The \"analyzeMetafileSync\" API only works in node`);\n};\nvar stop = () => {\n  if (stopService) stopService();\n  return Promise.resolve();\n};\nvar initializePromise;\nvar stopService;\nvar longLivedService;\nvar ensureServiceIsRunning = () => {\n  if (longLivedService) return longLivedService;\n  if (initializePromise) throw new Error('You need to wait for the promise returned from \"initialize\" to be resolved before calling this');\n  throw new Error('You need to call \"initialize\" before calling this');\n};\nvar initialize = (options) => {\n  options = validateInitializeOptions(options || {});\n  let wasmURL = options.wasmURL;\n  let wasmModule = options.wasmModule;\n  let useWorker = options.worker !== false;\n  if (!wasmURL && !wasmModule) throw new Error('Must provide either the \"wasmURL\" option or the \"wasmModule\" option');\n  if (initializePromise) throw new Error('Cannot call \"initialize\" more than once');\n  initializePromise = startRunningService(wasmURL || \"\", wasmModule, useWorker);\n  initializePromise.catch(() => {\n    initializePromise = void 0;\n  });\n  return initializePromise;\n};\nvar startRunningService = async (wasmURL, wasmModule, useWorker) => {\n  let worker;\n  let rejectAllWith;\n  const rejectAllPromise = new Promise((resolve) => rejectAllWith = resolve);\n  if (useWorker) {\n    let blob = new Blob([`onmessage=${'((postMessage) => {\\n      // Copyright 2018 The Go Authors. All rights reserved.\\n      // Use of this source code is governed by a BSD-style\\n      // license that can be found in the LICENSE file.\\n      let onmessage;\\n      let globalThis = {};\\n      for (let o = self; o; o = Object.getPrototypeOf(o))\\n        for (let k of Object.getOwnPropertyNames(o))\\n          if (!(k in globalThis))\\n            Object.defineProperty(globalThis, k, { get: () => self[k] });\\n      \"use strict\";\\n      (() => {\\n        const enosys = () => {\\n          const err = new Error(\"not implemented\");\\n          err.code = \"ENOSYS\";\\n          return err;\\n        };\\n        if (!globalThis.fs) {\\n          let outputBuf = \"\";\\n          globalThis.fs = {\\n            constants: { O_WRONLY: -1, O_RDWR: -1, O_CREAT: -1, O_TRUNC: -1, O_APPEND: -1, O_EXCL: -1 },\\n            // unused\\n            writeSync(fd, buf) {\\n              outputBuf += decoder.decode(buf);\\n              const nl = outputBuf.lastIndexOf(\"\\\\n\");\\n              if (nl != -1) {\\n                console.log(outputBuf.substring(0, nl));\\n                outputBuf = outputBuf.substring(nl + 1);\\n              }\\n              return buf.length;\\n            },\\n            write(fd, buf, offset, length, position, callback) {\\n              if (offset !== 0 || length !== buf.length || position !== null) {\\n                callback(enosys());\\n                return;\\n              }\\n              const n = this.writeSync(fd, buf);\\n              callback(null, n);\\n            },\\n            chmod(path, mode, callback) {\\n              callback(enosys());\\n            },\\n            chown(path, uid, gid, callback) {\\n              callback(enosys());\\n            },\\n            close(fd, callback) {\\n              callback(enosys());\\n            },\\n            fchmod(fd, mode, callback) {\\n              callback(enosys());\\n            },\\n            fchown(fd, uid, gid, callback) {\\n              callback(enosys());\\n            },\\n            fstat(fd, callback) {\\n              callback(enosys());\\n            },\\n            fsync(fd, callback) {\\n              callback(null);\\n            },\\n            ftruncate(fd, length, callback) {\\n              callback(enosys());\\n            },\\n            lchown(path, uid, gid, callback) {\\n              callback(enosys());\\n            },\\n            link(path, link, callback) {\\n              callback(enosys());\\n            },\\n            lstat(path, callback) {\\n              callback(enosys());\\n            },\\n            mkdir(path, perm, callback) {\\n              callback(enosys());\\n            },\\n            open(path, flags, mode, callback) {\\n              callback(enosys());\\n            },\\n            read(fd, buffer, offset, length, position, callback) {\\n              callback(enosys());\\n            },\\n            readdir(path, callback) {\\n              callback(enosys());\\n            },\\n            readlink(path, callback) {\\n              callback(enosys());\\n            },\\n            rename(from, to, callback) {\\n              callback(enosys());\\n            },\\n            rmdir(path, callback) {\\n              callback(enosys());\\n            },\\n            stat(path, callback) {\\n              callback(enosys());\\n            },\\n            symlink(path, link, callback) {\\n              callback(enosys());\\n            },\\n            truncate(path, length, callback) {\\n              callback(enosys());\\n            },\\n            unlink(path, callback) {\\n              callback(enosys());\\n            },\\n            utimes(path, atime, mtime, callback) {\\n              callback(enosys());\\n            }\\n          };\\n        }\\n        if (!globalThis.process) {\\n          globalThis.process = {\\n            getuid() {\\n              return -1;\\n            },\\n            getgid() {\\n              return -1;\\n            },\\n            geteuid() {\\n              return -1;\\n            },\\n            getegid() {\\n              return -1;\\n            },\\n            getgroups() {\\n              throw enosys();\\n            },\\n            pid: -1,\\n            ppid: -1,\\n            umask() {\\n              throw enosys();\\n            },\\n            cwd() {\\n              throw enosys();\\n            },\\n            chdir() {\\n              throw enosys();\\n            }\\n          };\\n        }\\n        if (!globalThis.crypto) {\\n          throw new Error(\"globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)\");\\n        }\\n        if (!globalThis.performance) {\\n          throw new Error(\"globalThis.performance is not available, polyfill required (performance.now only)\");\\n        }\\n        if (!globalThis.TextEncoder) {\\n          throw new Error(\"globalThis.TextEncoder is not available, polyfill required\");\\n        }\\n        if (!globalThis.TextDecoder) {\\n          throw new Error(\"globalThis.TextDecoder is not available, polyfill required\");\\n        }\\n        const encoder = new TextEncoder(\"utf-8\");\\n        const decoder = new TextDecoder(\"utf-8\");\\n        globalThis.Go = class {\\n          constructor() {\\n            this.argv = [\"js\"];\\n            this.env = {};\\n            this.exit = (code) => {\\n              if (code !== 0) {\\n                console.warn(\"exit code:\", code);\\n              }\\n            };\\n            this._exitPromise = new Promise((resolve) => {\\n              this._resolveExitPromise = resolve;\\n            });\\n            this._pendingEvent = null;\\n            this._scheduledTimeouts = /* @__PURE__ */ new Map();\\n            this._nextCallbackTimeoutID = 1;\\n            const setInt64 = (addr, v) => {\\n              this.mem.setUint32(addr + 0, v, true);\\n              this.mem.setUint32(addr + 4, Math.floor(v / 4294967296), true);\\n            };\\n            const setInt32 = (addr, v) => {\\n              this.mem.setUint32(addr + 0, v, true);\\n            };\\n            const getInt64 = (addr) => {\\n              const low = this.mem.getUint32(addr + 0, true);\\n              const high = this.mem.getInt32(addr + 4, true);\\n              return low + high * 4294967296;\\n            };\\n            const loadValue = (addr) => {\\n              const f = this.mem.getFloat64(addr, true);\\n              if (f === 0) {\\n                return void 0;\\n              }\\n              if (!isNaN(f)) {\\n                return f;\\n              }\\n              const id = this.mem.getUint32(addr, true);\\n              return this._values[id];\\n            };\\n            const storeValue = (addr, v) => {\\n              const nanHead = 2146959360;\\n              if (typeof v === \"number\" && v !== 0) {\\n                if (isNaN(v)) {\\n                  this.mem.setUint32(addr + 4, nanHead, true);\\n                  this.mem.setUint32(addr, 0, true);\\n                  return;\\n                }\\n                this.mem.setFloat64(addr, v, true);\\n                return;\\n              }\\n              if (v === void 0) {\\n                this.mem.setFloat64(addr, 0, true);\\n                return;\\n              }\\n              let id = this._ids.get(v);\\n              if (id === void 0) {\\n                id = this._idPool.pop();\\n                if (id === void 0) {\\n                  id = this._values.length;\\n                }\\n                this._values[id] = v;\\n                this._goRefCounts[id] = 0;\\n                this._ids.set(v, id);\\n              }\\n              this._goRefCounts[id]++;\\n              let typeFlag = 0;\\n              switch (typeof v) {\\n                case \"object\":\\n                  if (v !== null) {\\n                    typeFlag = 1;\\n                  }\\n                  break;\\n                case \"string\":\\n                  typeFlag = 2;\\n                  break;\\n                case \"symbol\":\\n                  typeFlag = 3;\\n                  break;\\n                case \"function\":\\n                  typeFlag = 4;\\n                  break;\\n              }\\n              this.mem.setUint32(addr + 4, nanHead | typeFlag, true);\\n              this.mem.setUint32(addr, id, true);\\n            };\\n            const loadSlice = (addr) => {\\n              const array = getInt64(addr + 0);\\n              const len = getInt64(addr + 8);\\n              return new Uint8Array(this._inst.exports.mem.buffer, array, len);\\n            };\\n            const loadSliceOfValues = (addr) => {\\n              const array = getInt64(addr + 0);\\n              const len = getInt64(addr + 8);\\n              const a = new Array(len);\\n              for (let i = 0; i < len; i++) {\\n                a[i] = loadValue(array + i * 8);\\n              }\\n              return a;\\n            };\\n            const loadString = (addr) => {\\n              const saddr = getInt64(addr + 0);\\n              const len = getInt64(addr + 8);\\n              return decoder.decode(new DataView(this._inst.exports.mem.buffer, saddr, len));\\n            };\\n            const timeOrigin = Date.now() - performance.now();\\n            this.importObject = {\\n              _gotest: {\\n                add: (a, b) => a + b\\n              },\\n              gojs: {\\n                // Go\\'s SP does not change as long as no Go code is running. Some operations (e.g. calls, getters and setters)\\n                // may synchronously trigger a Go event handler. This makes Go code get executed in the middle of the imported\\n                // function. A goroutine can switch to a new stack if the current stack is too small (see morestack function).\\n                // This changes the SP, thus we have to update the SP used by the imported function.\\n                // func wasmExit(code int32)\\n                \"runtime.wasmExit\": (sp) => {\\n                  sp >>>= 0;\\n                  const code = this.mem.getInt32(sp + 8, true);\\n                  this.exited = true;\\n                  delete this._inst;\\n                  delete this._values;\\n                  delete this._goRefCounts;\\n                  delete this._ids;\\n                  delete this._idPool;\\n                  this.exit(code);\\n                },\\n                // func wasmWrite(fd uintptr, p unsafe.Pointer, n int32)\\n                \"runtime.wasmWrite\": (sp) => {\\n                  sp >>>= 0;\\n                  const fd = getInt64(sp + 8);\\n                  const p = getInt64(sp + 16);\\n                  const n = this.mem.getInt32(sp + 24, true);\\n                  globalThis.fs.writeSync(fd, new Uint8Array(this._inst.exports.mem.buffer, p, n));\\n                },\\n                // func resetMemoryDataView()\\n                \"runtime.resetMemoryDataView\": (sp) => {\\n                  sp >>>= 0;\\n                  this.mem = new DataView(this._inst.exports.mem.buffer);\\n                },\\n                // func nanotime1() int64\\n                \"runtime.nanotime1\": (sp) => {\\n                  sp >>>= 0;\\n                  setInt64(sp + 8, (timeOrigin + performance.now()) * 1e6);\\n                },\\n                // func walltime() (sec int64, nsec int32)\\n                \"runtime.walltime\": (sp) => {\\n                  sp >>>= 0;\\n                  const msec = (/* @__PURE__ */ new Date()).getTime();\\n                  setInt64(sp + 8, msec / 1e3);\\n                  this.mem.setInt32(sp + 16, msec % 1e3 * 1e6, true);\\n                },\\n                // func scheduleTimeoutEvent(delay int64) int32\\n                \"runtime.scheduleTimeoutEvent\": (sp) => {\\n                  sp >>>= 0;\\n                  const id = this._nextCallbackTimeoutID;\\n                  this._nextCallbackTimeoutID++;\\n                  this._scheduledTimeouts.set(id, setTimeout(\\n                    () => {\\n                      this._resume();\\n                      while (this._scheduledTimeouts.has(id)) {\\n                        console.warn(\"scheduleTimeoutEvent: missed timeout event\");\\n                        this._resume();\\n                      }\\n                    },\\n                    getInt64(sp + 8)\\n                  ));\\n                  this.mem.setInt32(sp + 16, id, true);\\n                },\\n                // func clearTimeoutEvent(id int32)\\n                \"runtime.clearTimeoutEvent\": (sp) => {\\n                  sp >>>= 0;\\n                  const id = this.mem.getInt32(sp + 8, true);\\n                  clearTimeout(this._scheduledTimeouts.get(id));\\n                  this._scheduledTimeouts.delete(id);\\n                },\\n                // func getRandomData(r []byte)\\n                \"runtime.getRandomData\": (sp) => {\\n                  sp >>>= 0;\\n                  crypto.getRandomValues(loadSlice(sp + 8));\\n                },\\n                // func finalizeRef(v ref)\\n                \"syscall/js.finalizeRef\": (sp) => {\\n                  sp >>>= 0;\\n                  const id = this.mem.getUint32(sp + 8, true);\\n                  this._goRefCounts[id]--;\\n                  if (this._goRefCounts[id] === 0) {\\n                    const v = this._values[id];\\n                    this._values[id] = null;\\n                    this._ids.delete(v);\\n                    this._idPool.push(id);\\n                  }\\n                },\\n                // func stringVal(value string) ref\\n                \"syscall/js.stringVal\": (sp) => {\\n                  sp >>>= 0;\\n                  storeValue(sp + 24, loadString(sp + 8));\\n                },\\n                // func valueGet(v ref, p string) ref\\n                \"syscall/js.valueGet\": (sp) => {\\n                  sp >>>= 0;\\n                  const result = Reflect.get(loadValue(sp + 8), loadString(sp + 16));\\n                  sp = this._inst.exports.getsp() >>> 0;\\n                  storeValue(sp + 32, result);\\n                },\\n                // func valueSet(v ref, p string, x ref)\\n                \"syscall/js.valueSet\": (sp) => {\\n                  sp >>>= 0;\\n                  Reflect.set(loadValue(sp + 8), loadString(sp + 16), loadValue(sp + 32));\\n                },\\n                // func valueDelete(v ref, p string)\\n                \"syscall/js.valueDelete\": (sp) => {\\n                  sp >>>= 0;\\n                  Reflect.deleteProperty(loadValue(sp + 8), loadString(sp + 16));\\n                },\\n                // func valueIndex(v ref, i int) ref\\n                \"syscall/js.valueIndex\": (sp) => {\\n                  sp >>>= 0;\\n                  storeValue(sp + 24, Reflect.get(loadValue(sp + 8), getInt64(sp + 16)));\\n                },\\n                // valueSetIndex(v ref, i int, x ref)\\n                \"syscall/js.valueSetIndex\": (sp) => {\\n                  sp >>>= 0;\\n                  Reflect.set(loadValue(sp + 8), getInt64(sp + 16), loadValue(sp + 24));\\n                },\\n                // func valueCall(v ref, m string, args []ref) (ref, bool)\\n                \"syscall/js.valueCall\": (sp) => {\\n                  sp >>>= 0;\\n                  try {\\n                    const v = loadValue(sp + 8);\\n                    const m = Reflect.get(v, loadString(sp + 16));\\n                    const args = loadSliceOfValues(sp + 32);\\n                    const result = Reflect.apply(m, v, args);\\n                    sp = this._inst.exports.getsp() >>> 0;\\n                    storeValue(sp + 56, result);\\n                    this.mem.setUint8(sp + 64, 1);\\n                  } catch (err) {\\n                    sp = this._inst.exports.getsp() >>> 0;\\n                    storeValue(sp + 56, err);\\n                    this.mem.setUint8(sp + 64, 0);\\n                  }\\n                },\\n                // func valueInvoke(v ref, args []ref) (ref, bool)\\n                \"syscall/js.valueInvoke\": (sp) => {\\n                  sp >>>= 0;\\n                  try {\\n                    const v = loadValue(sp + 8);\\n                    const args = loadSliceOfValues(sp + 16);\\n                    const result = Reflect.apply(v, void 0, args);\\n                    sp = this._inst.exports.getsp() >>> 0;\\n                    storeValue(sp + 40, result);\\n                    this.mem.setUint8(sp + 48, 1);\\n                  } catch (err) {\\n                    sp = this._inst.exports.getsp() >>> 0;\\n                    storeValue(sp + 40, err);\\n                    this.mem.setUint8(sp + 48, 0);\\n                  }\\n                },\\n                // func valueNew(v ref, args []ref) (ref, bool)\\n                \"syscall/js.valueNew\": (sp) => {\\n                  sp >>>= 0;\\n                  try {\\n                    const v = loadValue(sp + 8);\\n                    const args = loadSliceOfValues(sp + 16);\\n                    const result = Reflect.construct(v, args);\\n                    sp = this._inst.exports.getsp() >>> 0;\\n                    storeValue(sp + 40, result);\\n                    this.mem.setUint8(sp + 48, 1);\\n                  } catch (err) {\\n                    sp = this._inst.exports.getsp() >>> 0;\\n                    storeValue(sp + 40, err);\\n                    this.mem.setUint8(sp + 48, 0);\\n                  }\\n                },\\n                // func valueLength(v ref) int\\n                \"syscall/js.valueLength\": (sp) => {\\n                  sp >>>= 0;\\n                  setInt64(sp + 16, parseInt(loadValue(sp + 8).length));\\n                },\\n                // valuePrepareString(v ref) (ref, int)\\n                \"syscall/js.valuePrepareString\": (sp) => {\\n                  sp >>>= 0;\\n                  const str = encoder.encode(String(loadValue(sp + 8)));\\n                  storeValue(sp + 16, str);\\n                  setInt64(sp + 24, str.length);\\n                },\\n                // valueLoadString(v ref, b []byte)\\n                \"syscall/js.valueLoadString\": (sp) => {\\n                  sp >>>= 0;\\n                  const str = loadValue(sp + 8);\\n                  loadSlice(sp + 16).set(str);\\n                },\\n                // func valueInstanceOf(v ref, t ref) bool\\n                \"syscall/js.valueInstanceOf\": (sp) => {\\n                  sp >>>= 0;\\n                  this.mem.setUint8(sp + 24, loadValue(sp + 8) instanceof loadValue(sp + 16) ? 1 : 0);\\n                },\\n                // func copyBytesToGo(dst []byte, src ref) (int, bool)\\n                \"syscall/js.copyBytesToGo\": (sp) => {\\n                  sp >>>= 0;\\n                  const dst = loadSlice(sp + 8);\\n                  const src = loadValue(sp + 32);\\n                  if (!(src instanceof Uint8Array || src instanceof Uint8ClampedArray)) {\\n                    this.mem.setUint8(sp + 48, 0);\\n                    return;\\n                  }\\n                  const toCopy = src.subarray(0, dst.length);\\n                  dst.set(toCopy);\\n                  setInt64(sp + 40, toCopy.length);\\n                  this.mem.setUint8(sp + 48, 1);\\n                },\\n                // func copyBytesToJS(dst ref, src []byte) (int, bool)\\n                \"syscall/js.copyBytesToJS\": (sp) => {\\n                  sp >>>= 0;\\n                  const dst = loadValue(sp + 8);\\n                  const src = loadSlice(sp + 16);\\n                  if (!(dst instanceof Uint8Array || dst instanceof Uint8ClampedArray)) {\\n                    this.mem.setUint8(sp + 48, 0);\\n                    return;\\n                  }\\n                  const toCopy = src.subarray(0, dst.length);\\n                  dst.set(toCopy);\\n                  setInt64(sp + 40, toCopy.length);\\n                  this.mem.setUint8(sp + 48, 1);\\n                },\\n                \"debug\": (value) => {\\n                  console.log(value);\\n                }\\n              }\\n            };\\n          }\\n          async run(instance) {\\n            if (!(instance instanceof WebAssembly.Instance)) {\\n              throw new Error(\"Go.run: WebAssembly.Instance expected\");\\n            }\\n            this._inst = instance;\\n            this.mem = new DataView(this._inst.exports.mem.buffer);\\n            this._values = [\\n              // JS values that Go currently has references to, indexed by reference id\\n              NaN,\\n              0,\\n              null,\\n              true,\\n              false,\\n              globalThis,\\n              this\\n            ];\\n            this._goRefCounts = new Array(this._values.length).fill(Infinity);\\n            this._ids = /* @__PURE__ */ new Map([\\n              // mapping from JS values to reference ids\\n              [0, 1],\\n              [null, 2],\\n              [true, 3],\\n              [false, 4],\\n              [globalThis, 5],\\n              [this, 6]\\n            ]);\\n            this._idPool = [];\\n            this.exited = false;\\n            let offset = 4096;\\n            const strPtr = (str) => {\\n              const ptr = offset;\\n              const bytes = encoder.encode(str + \"\\\\0\");\\n              new Uint8Array(this.mem.buffer, offset, bytes.length).set(bytes);\\n              offset += bytes.length;\\n              if (offset % 8 !== 0) {\\n                offset += 8 - offset % 8;\\n              }\\n              return ptr;\\n            };\\n            const argc = this.argv.length;\\n            const argvPtrs = [];\\n            this.argv.forEach((arg) => {\\n              argvPtrs.push(strPtr(arg));\\n            });\\n            argvPtrs.push(0);\\n            const keys = Object.keys(this.env).sort();\\n            keys.forEach((key) => {\\n              argvPtrs.push(strPtr(`${key}=${this.env[key]}`));\\n            });\\n            argvPtrs.push(0);\\n            const argv = offset;\\n            argvPtrs.forEach((ptr) => {\\n              this.mem.setUint32(offset, ptr, true);\\n              this.mem.setUint32(offset + 4, 0, true);\\n              offset += 8;\\n            });\\n            const wasmMinDataAddr = 4096 + 8192;\\n            if (offset >= wasmMinDataAddr) {\\n              throw new Error(\"total length of command line and environment variables exceeds limit\");\\n            }\\n            this._inst.exports.run(argc, argv);\\n            if (this.exited) {\\n              this._resolveExitPromise();\\n            }\\n            await this._exitPromise;\\n          }\\n          _resume() {\\n            if (this.exited) {\\n              throw new Error(\"Go program has already exited\");\\n            }\\n            this._inst.exports.resume();\\n            if (this.exited) {\\n              this._resolveExitPromise();\\n            }\\n          }\\n          _makeFuncWrapper(id) {\\n            const go = this;\\n            return function() {\\n              const event = { id, this: this, args: arguments };\\n              go._pendingEvent = event;\\n              go._resume();\\n              return event.result;\\n            };\\n          }\\n        };\\n      })();\\n      onmessage = ({ data: wasm }) => {\\n        let decoder = new TextDecoder();\\n        let fs = globalThis.fs;\\n        let stderr = \"\";\\n        fs.writeSync = (fd, buffer) => {\\n          if (fd === 1) {\\n            postMessage(buffer);\\n          } else if (fd === 2) {\\n            stderr += decoder.decode(buffer);\\n            let parts = stderr.split(\"\\\\n\");\\n            if (parts.length > 1) console.log(parts.slice(0, -1).join(\"\\\\n\"));\\n            stderr = parts[parts.length - 1];\\n          } else {\\n            throw new Error(\"Bad write\");\\n          }\\n          return buffer.length;\\n        };\\n        let stdin = [];\\n        let resumeStdin;\\n        let stdinPos = 0;\\n        onmessage = ({ data }) => {\\n          if (data.length > 0) {\\n            stdin.push(data);\\n            if (resumeStdin) resumeStdin();\\n          }\\n          return go;\\n        };\\n        fs.read = (fd, buffer, offset, length, position, callback) => {\\n          if (fd !== 0 || offset !== 0 || length !== buffer.length || position !== null) {\\n            throw new Error(\"Bad read\");\\n          }\\n          if (stdin.length === 0) {\\n            resumeStdin = () => fs.read(fd, buffer, offset, length, position, callback);\\n            return;\\n          }\\n          let first = stdin[0];\\n          let count = Math.max(0, Math.min(length, first.length - stdinPos));\\n          buffer.set(first.subarray(stdinPos, stdinPos + count), offset);\\n          stdinPos += count;\\n          if (stdinPos === first.length) {\\n            stdin.shift();\\n            stdinPos = 0;\\n          }\\n          callback(null, count);\\n        };\\n        let go = new globalThis.Go();\\n        go.argv = [\"\", `--service=${\"0.24.2\"}`];\\n        tryToInstantiateModule(wasm, go).then(\\n          (instance) => {\\n            postMessage(null);\\n            go.run(instance);\\n          },\\n          (error) => {\\n            postMessage(error);\\n          }\\n        );\\n        return go;\\n      };\\n      async function tryToInstantiateModule(wasm, go) {\\n        if (wasm instanceof WebAssembly.Module) {\\n          return WebAssembly.instantiate(wasm, go.importObject);\\n        }\\n        const res = await fetch(wasm);\\n        if (!res.ok) throw new Error(`Failed to download ${JSON.stringify(wasm)}`);\\n        if (\"instantiateStreaming\" in WebAssembly && /^application\\\\/wasm($|;)/i.test(res.headers.get(\"Content-Type\") || \"\")) {\\n          const result2 = await WebAssembly.instantiateStreaming(res, go.importObject);\\n          return result2.instance;\\n        }\\n        const bytes = await res.arrayBuffer();\\n        const result = await WebAssembly.instantiate(bytes, go.importObject);\\n        return result.instance;\\n      }\\n      return (m) => onmessage(m);\\n    })'}(postMessage)`], { type: \"text/javascript\" });\n    worker = new Worker(URL.createObjectURL(blob));\n  } else {\n    let onmessage = ((postMessage) => {\n      // Copyright 2018 The Go Authors. All rights reserved.\n      // Use of this source code is governed by a BSD-style\n      // license that can be found in the LICENSE file.\n      let onmessage;\n      let globalThis = {};\n      for (let o = self; o; o = Object.getPrototypeOf(o))\n        for (let k of Object.getOwnPropertyNames(o))\n          if (!(k in globalThis))\n            Object.defineProperty(globalThis, k, { get: () => self[k] });\n      \"use strict\";\n      (() => {\n        const enosys = () => {\n          const err = new Error(\"not implemented\");\n          err.code = \"ENOSYS\";\n          return err;\n        };\n        if (!globalThis.fs) {\n          let outputBuf = \"\";\n          globalThis.fs = {\n            constants: { O_WRONLY: -1, O_RDWR: -1, O_CREAT: -1, O_TRUNC: -1, O_APPEND: -1, O_EXCL: -1 },\n            // unused\n            writeSync(fd, buf) {\n              outputBuf += decoder.decode(buf);\n              const nl = outputBuf.lastIndexOf(\"\\n\");\n              if (nl != -1) {\n                console.log(outputBuf.substring(0, nl));\n                outputBuf = outputBuf.substring(nl + 1);\n              }\n              return buf.length;\n            },\n            write(fd, buf, offset, length, position, callback) {\n              if (offset !== 0 || length !== buf.length || position !== null) {\n                callback(enosys());\n                return;\n              }\n              const n = this.writeSync(fd, buf);\n              callback(null, n);\n            },\n            chmod(path, mode, callback) {\n              callback(enosys());\n            },\n            chown(path, uid, gid, callback) {\n              callback(enosys());\n            },\n            close(fd, callback) {\n              callback(enosys());\n            },\n            fchmod(fd, mode, callback) {\n              callback(enosys());\n            },\n            fchown(fd, uid, gid, callback) {\n              callback(enosys());\n            },\n            fstat(fd, callback) {\n              callback(enosys());\n            },\n            fsync(fd, callback) {\n              callback(null);\n            },\n            ftruncate(fd, length, callback) {\n              callback(enosys());\n            },\n            lchown(path, uid, gid, callback) {\n              callback(enosys());\n            },\n            link(path, link, callback) {\n              callback(enosys());\n            },\n            lstat(path, callback) {\n              callback(enosys());\n            },\n            mkdir(path, perm, callback) {\n              callback(enosys());\n            },\n            open(path, flags, mode, callback) {\n              callback(enosys());\n            },\n            read(fd, buffer, offset, length, position, callback) {\n              callback(enosys());\n            },\n            readdir(path, callback) {\n              callback(enosys());\n            },\n            readlink(path, callback) {\n              callback(enosys());\n            },\n            rename(from, to, callback) {\n              callback(enosys());\n            },\n            rmdir(path, callback) {\n              callback(enosys());\n            },\n            stat(path, callback) {\n              callback(enosys());\n            },\n            symlink(path, link, callback) {\n              callback(enosys());\n            },\n            truncate(path, length, callback) {\n              callback(enosys());\n            },\n            unlink(path, callback) {\n              callback(enosys());\n            },\n            utimes(path, atime, mtime, callback) {\n              callback(enosys());\n            }\n          };\n        }\n        if (!globalThis.process) {\n          globalThis.process = {\n            getuid() {\n              return -1;\n            },\n            getgid() {\n              return -1;\n            },\n            geteuid() {\n              return -1;\n            },\n            getegid() {\n              return -1;\n            },\n            getgroups() {\n              throw enosys();\n            },\n            pid: -1,\n            ppid: -1,\n            umask() {\n              throw enosys();\n            },\n            cwd() {\n              throw enosys();\n            },\n            chdir() {\n              throw enosys();\n            }\n          };\n        }\n        if (!globalThis.crypto) {\n          throw new Error(\"globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)\");\n        }\n        if (!globalThis.performance) {\n          throw new Error(\"globalThis.performance is not available, polyfill required (performance.now only)\");\n        }\n        if (!globalThis.TextEncoder) {\n          throw new Error(\"globalThis.TextEncoder is not available, polyfill required\");\n        }\n        if (!globalThis.TextDecoder) {\n          throw new Error(\"globalThis.TextDecoder is not available, polyfill required\");\n        }\n        const encoder = new TextEncoder(\"utf-8\");\n        const decoder = new TextDecoder(\"utf-8\");\n        globalThis.Go = class {\n          constructor() {\n            this.argv = [\"js\"];\n            this.env = {};\n            this.exit = (code) => {\n              if (code !== 0) {\n                console.warn(\"exit code:\", code);\n              }\n            };\n            this._exitPromise = new Promise((resolve) => {\n              this._resolveExitPromise = resolve;\n            });\n            this._pendingEvent = null;\n            this._scheduledTimeouts = /* @__PURE__ */ new Map();\n            this._nextCallbackTimeoutID = 1;\n            const setInt64 = (addr, v) => {\n              this.mem.setUint32(addr + 0, v, true);\n              this.mem.setUint32(addr + 4, Math.floor(v / 4294967296), true);\n            };\n            const setInt32 = (addr, v) => {\n              this.mem.setUint32(addr + 0, v, true);\n            };\n            const getInt64 = (addr) => {\n              const low = this.mem.getUint32(addr + 0, true);\n              const high = this.mem.getInt32(addr + 4, true);\n              return low + high * 4294967296;\n            };\n            const loadValue = (addr) => {\n              const f = this.mem.getFloat64(addr, true);\n              if (f === 0) {\n                return void 0;\n              }\n              if (!isNaN(f)) {\n                return f;\n              }\n              const id = this.mem.getUint32(addr, true);\n              return this._values[id];\n            };\n            const storeValue = (addr, v) => {\n              const nanHead = 2146959360;\n              if (typeof v === \"number\" && v !== 0) {\n                if (isNaN(v)) {\n                  this.mem.setUint32(addr + 4, nanHead, true);\n                  this.mem.setUint32(addr, 0, true);\n                  return;\n                }\n                this.mem.setFloat64(addr, v, true);\n                return;\n              }\n              if (v === void 0) {\n                this.mem.setFloat64(addr, 0, true);\n                return;\n              }\n              let id = this._ids.get(v);\n              if (id === void 0) {\n                id = this._idPool.pop();\n                if (id === void 0) {\n                  id = this._values.length;\n                }\n                this._values[id] = v;\n                this._goRefCounts[id] = 0;\n                this._ids.set(v, id);\n              }\n              this._goRefCounts[id]++;\n              let typeFlag = 0;\n              switch (typeof v) {\n                case \"object\":\n                  if (v !== null) {\n                    typeFlag = 1;\n                  }\n                  break;\n                case \"string\":\n                  typeFlag = 2;\n                  break;\n                case \"symbol\":\n                  typeFlag = 3;\n                  break;\n                case \"function\":\n                  typeFlag = 4;\n                  break;\n              }\n              this.mem.setUint32(addr + 4, nanHead | typeFlag, true);\n              this.mem.setUint32(addr, id, true);\n            };\n            const loadSlice = (addr) => {\n              const array = getInt64(addr + 0);\n              const len = getInt64(addr + 8);\n              return new Uint8Array(this._inst.exports.mem.buffer, array, len);\n            };\n            const loadSliceOfValues = (addr) => {\n              const array = getInt64(addr + 0);\n              const len = getInt64(addr + 8);\n              const a = new Array(len);\n              for (let i = 0; i < len; i++) {\n                a[i] = loadValue(array + i * 8);\n              }\n              return a;\n            };\n            const loadString = (addr) => {\n              const saddr = getInt64(addr + 0);\n              const len = getInt64(addr + 8);\n              return decoder.decode(new DataView(this._inst.exports.mem.buffer, saddr, len));\n            };\n            const timeOrigin = Date.now() - performance.now();\n            this.importObject = {\n              _gotest: {\n                add: (a, b) => a + b\n              },\n              gojs: {\n                // Go's SP does not change as long as no Go code is running. Some operations (e.g. calls, getters and setters)\n                // may synchronously trigger a Go event handler. This makes Go code get executed in the middle of the imported\n                // function. A goroutine can switch to a new stack if the current stack is too small (see morestack function).\n                // This changes the SP, thus we have to update the SP used by the imported function.\n                // func wasmExit(code int32)\n                \"runtime.wasmExit\": (sp) => {\n                  sp >>>= 0;\n                  const code = this.mem.getInt32(sp + 8, true);\n                  this.exited = true;\n                  delete this._inst;\n                  delete this._values;\n                  delete this._goRefCounts;\n                  delete this._ids;\n                  delete this._idPool;\n                  this.exit(code);\n                },\n                // func wasmWrite(fd uintptr, p unsafe.Pointer, n int32)\n                \"runtime.wasmWrite\": (sp) => {\n                  sp >>>= 0;\n                  const fd = getInt64(sp + 8);\n                  const p = getInt64(sp + 16);\n                  const n = this.mem.getInt32(sp + 24, true);\n                  globalThis.fs.writeSync(fd, new Uint8Array(this._inst.exports.mem.buffer, p, n));\n                },\n                // func resetMemoryDataView()\n                \"runtime.resetMemoryDataView\": (sp) => {\n                  sp >>>= 0;\n                  this.mem = new DataView(this._inst.exports.mem.buffer);\n                },\n                // func nanotime1() int64\n                \"runtime.nanotime1\": (sp) => {\n                  sp >>>= 0;\n                  setInt64(sp + 8, (timeOrigin + performance.now()) * 1e6);\n                },\n                // func walltime() (sec int64, nsec int32)\n                \"runtime.walltime\": (sp) => {\n                  sp >>>= 0;\n                  const msec = (/* @__PURE__ */ new Date()).getTime();\n                  setInt64(sp + 8, msec / 1e3);\n                  this.mem.setInt32(sp + 16, msec % 1e3 * 1e6, true);\n                },\n                // func scheduleTimeoutEvent(delay int64) int32\n                \"runtime.scheduleTimeoutEvent\": (sp) => {\n                  sp >>>= 0;\n                  const id = this._nextCallbackTimeoutID;\n                  this._nextCallbackTimeoutID++;\n                  this._scheduledTimeouts.set(id, setTimeout(\n                    () => {\n                      this._resume();\n                      while (this._scheduledTimeouts.has(id)) {\n                        console.warn(\"scheduleTimeoutEvent: missed timeout event\");\n                        this._resume();\n                      }\n                    },\n                    getInt64(sp + 8)\n                  ));\n                  this.mem.setInt32(sp + 16, id, true);\n                },\n                // func clearTimeoutEvent(id int32)\n                \"runtime.clearTimeoutEvent\": (sp) => {\n                  sp >>>= 0;\n                  const id = this.mem.getInt32(sp + 8, true);\n                  clearTimeout(this._scheduledTimeouts.get(id));\n                  this._scheduledTimeouts.delete(id);\n                },\n                // func getRandomData(r []byte)\n                \"runtime.getRandomData\": (sp) => {\n                  sp >>>= 0;\n                  crypto.getRandomValues(loadSlice(sp + 8));\n                },\n                // func finalizeRef(v ref)\n                \"syscall/js.finalizeRef\": (sp) => {\n                  sp >>>= 0;\n                  const id = this.mem.getUint32(sp + 8, true);\n                  this._goRefCounts[id]--;\n                  if (this._goRefCounts[id] === 0) {\n                    const v = this._values[id];\n                    this._values[id] = null;\n                    this._ids.delete(v);\n                    this._idPool.push(id);\n                  }\n                },\n                // func stringVal(value string) ref\n                \"syscall/js.stringVal\": (sp) => {\n                  sp >>>= 0;\n                  storeValue(sp + 24, loadString(sp + 8));\n                },\n                // func valueGet(v ref, p string) ref\n                \"syscall/js.valueGet\": (sp) => {\n                  sp >>>= 0;\n                  const result = Reflect.get(loadValue(sp + 8), loadString(sp + 16));\n                  sp = this._inst.exports.getsp() >>> 0;\n                  storeValue(sp + 32, result);\n                },\n                // func valueSet(v ref, p string, x ref)\n                \"syscall/js.valueSet\": (sp) => {\n                  sp >>>= 0;\n                  Reflect.set(loadValue(sp + 8), loadString(sp + 16), loadValue(sp + 32));\n                },\n                // func valueDelete(v ref, p string)\n                \"syscall/js.valueDelete\": (sp) => {\n                  sp >>>= 0;\n                  Reflect.deleteProperty(loadValue(sp + 8), loadString(sp + 16));\n                },\n                // func valueIndex(v ref, i int) ref\n                \"syscall/js.valueIndex\": (sp) => {\n                  sp >>>= 0;\n                  storeValue(sp + 24, Reflect.get(loadValue(sp + 8), getInt64(sp + 16)));\n                },\n                // valueSetIndex(v ref, i int, x ref)\n                \"syscall/js.valueSetIndex\": (sp) => {\n                  sp >>>= 0;\n                  Reflect.set(loadValue(sp + 8), getInt64(sp + 16), loadValue(sp + 24));\n                },\n                // func valueCall(v ref, m string, args []ref) (ref, bool)\n                \"syscall/js.valueCall\": (sp) => {\n                  sp >>>= 0;\n                  try {\n                    const v = loadValue(sp + 8);\n                    const m = Reflect.get(v, loadString(sp + 16));\n                    const args = loadSliceOfValues(sp + 32);\n                    const result = Reflect.apply(m, v, args);\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 56, result);\n                    this.mem.setUint8(sp + 64, 1);\n                  } catch (err) {\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 56, err);\n                    this.mem.setUint8(sp + 64, 0);\n                  }\n                },\n                // func valueInvoke(v ref, args []ref) (ref, bool)\n                \"syscall/js.valueInvoke\": (sp) => {\n                  sp >>>= 0;\n                  try {\n                    const v = loadValue(sp + 8);\n                    const args = loadSliceOfValues(sp + 16);\n                    const result = Reflect.apply(v, void 0, args);\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 40, result);\n                    this.mem.setUint8(sp + 48, 1);\n                  } catch (err) {\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 40, err);\n                    this.mem.setUint8(sp + 48, 0);\n                  }\n                },\n                // func valueNew(v ref, args []ref) (ref, bool)\n                \"syscall/js.valueNew\": (sp) => {\n                  sp >>>= 0;\n                  try {\n                    const v = loadValue(sp + 8);\n                    const args = loadSliceOfValues(sp + 16);\n                    const result = Reflect.construct(v, args);\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 40, result);\n                    this.mem.setUint8(sp + 48, 1);\n                  } catch (err) {\n                    sp = this._inst.exports.getsp() >>> 0;\n                    storeValue(sp + 40, err);\n                    this.mem.setUint8(sp + 48, 0);\n                  }\n                },\n                // func valueLength(v ref) int\n                \"syscall/js.valueLength\": (sp) => {\n                  sp >>>= 0;\n                  setInt64(sp + 16, parseInt(loadValue(sp + 8).length));\n                },\n                // valuePrepareString(v ref) (ref, int)\n                \"syscall/js.valuePrepareString\": (sp) => {\n                  sp >>>= 0;\n                  const str = encoder.encode(String(loadValue(sp + 8)));\n                  storeValue(sp + 16, str);\n                  setInt64(sp + 24, str.length);\n                },\n                // valueLoadString(v ref, b []byte)\n                \"syscall/js.valueLoadString\": (sp) => {\n                  sp >>>= 0;\n                  const str = loadValue(sp + 8);\n                  loadSlice(sp + 16).set(str);\n                },\n                // func valueInstanceOf(v ref, t ref) bool\n                \"syscall/js.valueInstanceOf\": (sp) => {\n                  sp >>>= 0;\n                  this.mem.setUint8(sp + 24, loadValue(sp + 8) instanceof loadValue(sp + 16) ? 1 : 0);\n                },\n                // func copyBytesToGo(dst []byte, src ref) (int, bool)\n                \"syscall/js.copyBytesToGo\": (sp) => {\n                  sp >>>= 0;\n                  const dst = loadSlice(sp + 8);\n                  const src = loadValue(sp + 32);\n                  if (!(src instanceof Uint8Array || src instanceof Uint8ClampedArray)) {\n                    this.mem.setUint8(sp + 48, 0);\n                    return;\n                  }\n                  const toCopy = src.subarray(0, dst.length);\n                  dst.set(toCopy);\n                  setInt64(sp + 40, toCopy.length);\n                  this.mem.setUint8(sp + 48, 1);\n                },\n                // func copyBytesToJS(dst ref, src []byte) (int, bool)\n                \"syscall/js.copyBytesToJS\": (sp) => {\n                  sp >>>= 0;\n                  const dst = loadValue(sp + 8);\n                  const src = loadSlice(sp + 16);\n                  if (!(dst instanceof Uint8Array || dst instanceof Uint8ClampedArray)) {\n                    this.mem.setUint8(sp + 48, 0);\n                    return;\n                  }\n                  const toCopy = src.subarray(0, dst.length);\n                  dst.set(toCopy);\n                  setInt64(sp + 40, toCopy.length);\n                  this.mem.setUint8(sp + 48, 1);\n                },\n                \"debug\": (value) => {\n                  console.log(value);\n                }\n              }\n            };\n          }\n          async run(instance) {\n            if (!(instance instanceof WebAssembly.Instance)) {\n              throw new Error(\"Go.run: WebAssembly.Instance expected\");\n            }\n            this._inst = instance;\n            this.mem = new DataView(this._inst.exports.mem.buffer);\n            this._values = [\n              // JS values that Go currently has references to, indexed by reference id\n              NaN,\n              0,\n              null,\n              true,\n              false,\n              globalThis,\n              this\n            ];\n            this._goRefCounts = new Array(this._values.length).fill(Infinity);\n            this._ids = /* @__PURE__ */ new Map([\n              // mapping from JS values to reference ids\n              [0, 1],\n              [null, 2],\n              [true, 3],\n              [false, 4],\n              [globalThis, 5],\n              [this, 6]\n            ]);\n            this._idPool = [];\n            this.exited = false;\n            let offset = 4096;\n            const strPtr = (str) => {\n              const ptr = offset;\n              const bytes = encoder.encode(str + \"\\0\");\n              new Uint8Array(this.mem.buffer, offset, bytes.length).set(bytes);\n              offset += bytes.length;\n              if (offset % 8 !== 0) {\n                offset += 8 - offset % 8;\n              }\n              return ptr;\n            };\n            const argc = this.argv.length;\n            const argvPtrs = [];\n            this.argv.forEach((arg) => {\n              argvPtrs.push(strPtr(arg));\n            });\n            argvPtrs.push(0);\n            const keys = Object.keys(this.env).sort();\n            keys.forEach((key) => {\n              argvPtrs.push(strPtr(`${key}=${this.env[key]}`));\n            });\n            argvPtrs.push(0);\n            const argv = offset;\n            argvPtrs.forEach((ptr) => {\n              this.mem.setUint32(offset, ptr, true);\n              this.mem.setUint32(offset + 4, 0, true);\n              offset += 8;\n            });\n            const wasmMinDataAddr = 4096 + 8192;\n            if (offset >= wasmMinDataAddr) {\n              throw new Error(\"total length of command line and environment variables exceeds limit\");\n            }\n            this._inst.exports.run(argc, argv);\n            if (this.exited) {\n              this._resolveExitPromise();\n            }\n            await this._exitPromise;\n          }\n          _resume() {\n            if (this.exited) {\n              throw new Error(\"Go program has already exited\");\n            }\n            this._inst.exports.resume();\n            if (this.exited) {\n              this._resolveExitPromise();\n            }\n          }\n          _makeFuncWrapper(id) {\n            const go = this;\n            return function() {\n              const event = { id, this: this, args: arguments };\n              go._pendingEvent = event;\n              go._resume();\n              return event.result;\n            };\n          }\n        };\n      })();\n      onmessage = ({ data: wasm }) => {\n        let decoder = new TextDecoder();\n        let fs = globalThis.fs;\n        let stderr = \"\";\n        fs.writeSync = (fd, buffer) => {\n          if (fd === 1) {\n            postMessage(buffer);\n          } else if (fd === 2) {\n            stderr += decoder.decode(buffer);\n            let parts = stderr.split(\"\\n\");\n            if (parts.length > 1) console.log(parts.slice(0, -1).join(\"\\n\"));\n            stderr = parts[parts.length - 1];\n          } else {\n            throw new Error(\"Bad write\");\n          }\n          return buffer.length;\n        };\n        let stdin = [];\n        let resumeStdin;\n        let stdinPos = 0;\n        onmessage = ({ data }) => {\n          if (data.length > 0) {\n            stdin.push(data);\n            if (resumeStdin) resumeStdin();\n          }\n          return go;\n        };\n        fs.read = (fd, buffer, offset, length, position, callback) => {\n          if (fd !== 0 || offset !== 0 || length !== buffer.length || position !== null) {\n            throw new Error(\"Bad read\");\n          }\n          if (stdin.length === 0) {\n            resumeStdin = () => fs.read(fd, buffer, offset, length, position, callback);\n            return;\n          }\n          let first = stdin[0];\n          let count = Math.max(0, Math.min(length, first.length - stdinPos));\n          buffer.set(first.subarray(stdinPos, stdinPos + count), offset);\n          stdinPos += count;\n          if (stdinPos === first.length) {\n            stdin.shift();\n            stdinPos = 0;\n          }\n          callback(null, count);\n        };\n        let go = new globalThis.Go();\n        go.argv = [\"\", `--service=${\"0.24.2\"}`];\n        tryToInstantiateModule(wasm, go).then(\n          (instance) => {\n            postMessage(null);\n            go.run(instance);\n          },\n          (error) => {\n            postMessage(error);\n          }\n        );\n        return go;\n      };\n      async function tryToInstantiateModule(wasm, go) {\n        if (wasm instanceof WebAssembly.Module) {\n          return WebAssembly.instantiate(wasm, go.importObject);\n        }\n        const res = await fetch(wasm);\n        if (!res.ok) throw new Error(`Failed to download ${JSON.stringify(wasm)}`);\n        if (\"instantiateStreaming\" in WebAssembly && /^application\\/wasm($|;)/i.test(res.headers.get(\"Content-Type\") || \"\")) {\n          const result2 = await WebAssembly.instantiateStreaming(res, go.importObject);\n          return result2.instance;\n        }\n        const bytes = await res.arrayBuffer();\n        const result = await WebAssembly.instantiate(bytes, go.importObject);\n        return result.instance;\n      }\n      return (m) => onmessage(m);\n    })((data) => worker.onmessage({ data }));\n    let go;\n    worker = {\n      onmessage: null,\n      postMessage: (data) => setTimeout(() => {\n        try {\n          go = onmessage({ data });\n        } catch (error) {\n          rejectAllWith(error);\n        }\n      }),\n      terminate() {\n        if (go)\n          for (let timeout of go._scheduledTimeouts.values())\n            clearTimeout(timeout);\n      }\n    };\n  }\n  let firstMessageResolve;\n  let firstMessageReject;\n  const firstMessagePromise = new Promise((resolve, reject) => {\n    firstMessageResolve = resolve;\n    firstMessageReject = reject;\n  });\n  worker.onmessage = ({ data: error }) => {\n    worker.onmessage = ({ data }) => readFromStdout(data);\n    if (error) firstMessageReject(error);\n    else firstMessageResolve();\n  };\n  worker.postMessage(wasmModule || new URL(wasmURL, location.href).toString());\n  let { readFromStdout, service } = createChannel({\n    writeToStdin(bytes) {\n      worker.postMessage(bytes);\n    },\n    isSync: false,\n    hasFS: false,\n    esbuild: browser_exports\n  });\n  await firstMessagePromise;\n  stopService = () => {\n    worker.terminate();\n    initializePromise = void 0;\n    stopService = void 0;\n    longLivedService = void 0;\n  };\n  longLivedService = {\n    build: (options) => new Promise((resolve, reject) => {\n      rejectAllPromise.then(reject);\n      service.buildOrContext({\n        callName: \"build\",\n        refs: null,\n        options,\n        isTTY: false,\n        defaultWD: \"/\",\n        callback: (err, res) => err ? reject(err) : resolve(res)\n      });\n    }),\n    context: (options) => new Promise((resolve, reject) => {\n      rejectAllPromise.then(reject);\n      service.buildOrContext({\n        callName: \"context\",\n        refs: null,\n        options,\n        isTTY: false,\n        defaultWD: \"/\",\n        callback: (err, res) => err ? reject(err) : resolve(res)\n      });\n    }),\n    transform: (input, options) => new Promise((resolve, reject) => {\n      rejectAllPromise.then(reject);\n      service.transform({\n        callName: \"transform\",\n        refs: null,\n        input,\n        options: options || {},\n        isTTY: false,\n        fs: {\n          readFile(_, callback) {\n            callback(new Error(\"Internal error\"), null);\n          },\n          writeFile(_, callback) {\n            callback(null);\n          }\n        },\n        callback: (err, res) => err ? reject(err) : resolve(res)\n      });\n    }),\n    formatMessages: (messages, options) => new Promise((resolve, reject) => {\n      rejectAllPromise.then(reject);\n      service.formatMessages({\n        callName: \"formatMessages\",\n        refs: null,\n        messages,\n        options,\n        callback: (err, res) => err ? reject(err) : resolve(res)\n      });\n    }),\n    analyzeMetafile: (metafile, options) => new Promise((resolve, reject) => {\n      rejectAllPromise.then(reject);\n      service.analyzeMetafile({\n        callName: \"analyzeMetafile\",\n        refs: null,\n        metafile: typeof metafile === \"string\" ? metafile : JSON.stringify(metafile),\n        options,\n        callback: (err, res) => err ? reject(err) : resolve(res)\n      });\n    })\n  };\n};\nvar browser_default = browser_exports;\nexport {\n  analyzeMetafile,\n  analyzeMetafileSync,\n  build,\n  buildSync,\n  context,\n  browser_default as default,\n  formatMessages,\n  formatMessagesSync,\n  initialize,\n  stop,\n  transform,\n  transformSync,\n  version\n};\n","export default \"__VITE_ASSET__CZsX6HCV__\"","import * as esbuild from 'esbuild-wasm/esm/browser';\nimport esbuildWasmURL from 'esbuild-wasm/esbuild.wasm?url';\nimport type {\n  WorkerOutgoingMessage,\n  WorkerIncomingMessage,\n  LogEntry,\n  SchemaField,\n} from '../types/playground';\n\n// Capture import.meta.url here  this worker IS an ES module, so it's valid.\n// We'll pass it to esbuild's `define` so user code can reference it too,\n// even though the final execution runs inside new Function() (script context).\nconst WORKER_URL = import.meta.url;\nconst DATASETS_BASE = new URL('../datasets/', WORKER_URL).href;\n\n//  esbuild init \n\nlet esbuildReady = false;\n\nasync function ensureEsbuild(): Promise<void> {\n  if (esbuildReady) return;\n  await esbuild.initialize({ wasmURL: esbuildWasmURL, worker: false });\n  esbuildReady = true;\n}\n\n//  FrameKit scope  worker globalThis \n//\n// Injecting into self (= globalThis in a worker) means new Function() sees\n// all FrameKit exports. User code like `const df = ...` creates a LOCAL\n// binding inside the wrapper function  no conflict with globalThis.df.\n\nlet scopeReady = false;\n\nasync function ensureScope(): Promise<void> {\n  if (scopeReady) return;\n  const fk = (await import('framekit-js')) as Record<string, unknown>;\n  // Also expose a helper so dataset snippets can resolve CSV paths\n  Object.assign(self, fk, { __DATASETS_BASE__: DATASETS_BASE });\n  scopeReady = true;\n}\n\n//  Log capture \n\nfunction withLogCapture<T>(\n  fn: () => Promise<T>,\n): Promise<{ logs: LogEntry[]; result: T | null; error: unknown }> {\n  return new Promise((resolve) => {\n    const logs: LogEntry[] = [];\n    const orig = {\n      log: console.log,\n      warn: console.warn,\n      error: console.error,\n      info: console.info,\n    };\n\n    const capture =\n      (level: LogEntry['level']) =>\n      (...args: unknown[]) =>\n        logs.push({ timestamp: performance.now(), level, args });\n\n    console.log = capture('log');\n    console.warn = capture('warn');\n    console.error = capture('error');\n    console.info = capture('info');\n\n    const restore = () => Object.assign(console, orig);\n\n    fn()\n      .then((r) => {\n        restore();\n        resolve({ logs, result: r, error: null });\n      })\n      .catch((e: unknown) => {\n        restore();\n        resolve({ logs, result: null, error: e });\n      });\n  });\n}\n\n//  DataFrame duck-type \n\ninterface FK_DataFrame {\n  toArray(): Record<string, unknown>[];\n  dtypes: Record<string, string>;\n  columns: string[];\n}\n\nfunction isDataFrame(v: unknown): v is FK_DataFrame {\n  return (\n    v !== null &&\n    typeof v === 'object' &&\n    typeof (v as Record<string, unknown>)['toArray'] === 'function' &&\n    Array.isArray((v as Record<string, unknown>)['columns'])\n  );\n}\n\nfunction extractSchema(d: FK_DataFrame): SchemaField[] {\n  return d.columns.map((name) => ({ name, dtype: String(d.dtypes[name] ?? 'unknown') }));\n}\n\n//  Transpile + execute \n\nasync function runUserCode(\n  code: string,\n): Promise<{ rows: Record<string, unknown>[]; schema: SchemaField[] }> {\n  // Strip module-level imports  FrameKit lives on globalThis already.\n  const stripped = code.replace(/^\\s*import\\s[^;]+;?\\s*$/gm, '');\n\n  // Pre-wrap in async function BEFORE esbuild sees it so that:\n  //    top-level return  inside a function (valid)\n  //    top-level await   inside an async function (valid)\n  //    const df = ...    local binding, no conflict with globalThis.df\n  const src = `async function __run__() {\\n${stripped}\\n}`;\n\n  const { code: js } = await esbuild.transform(src, {\n    loader: 'ts',\n    format: 'esm',\n    target: 'es2022',\n    // Replace import.meta.url at compile-time so new Function() (script\n    // context) doesn't throw \"import.meta may only appear in a module\".\n    define: {\n      'import.meta.url': JSON.stringify(WORKER_URL),\n    },\n  });\n\n  // new Function() is scoped to the worker's globalThis  FrameKit exports\n  // (DataFrame, col, lit, ) are visible without explicit parameter passing.\n  // eslint-disable-next-line @typescript-eslint/no-implied-eval\n  const returnValue = await new Function(`${js}\\nreturn __run__();`)();\n\n  if (isDataFrame(returnValue)) {\n    return {\n      rows: returnValue.toArray() as Record<string, unknown>[],\n      schema: extractSchema(returnValue),\n    };\n  }\n  return { rows: [], schema: [] };\n}\n\n//  Message handler \n\nself.onmessage = async (event: MessageEvent<WorkerOutgoingMessage>) => {\n  const msg = event.data;\n  if (msg.type !== 'run') return;\n\n  const start = performance.now();\n\n  try {\n    await ensureEsbuild();\n    await ensureScope();\n  } catch (err) {\n    self.postMessage({\n      type: 'error',\n      error: `Init failed: ${String(err)}`,\n      logs: [],\n      executionTime: 0,\n    } satisfies WorkerIncomingMessage);\n    return;\n  }\n\n  const { logs, result, error } = await withLogCapture(() => runUserCode(msg.code));\n  const elapsed = performance.now() - start;\n\n  if (error !== null) {\n    self.postMessage({\n      type: 'error',\n      error: error instanceof Error ? `${error.message}\\n${error.stack ?? ''}` : String(error),\n      logs,\n      executionTime: elapsed,\n    } satisfies WorkerIncomingMessage);\n    return;\n  }\n\n  const { rows, schema } = result as { rows: Record<string, unknown>[]; schema: SchemaField[] };\n  self.postMessage({\n    type: 'success',\n    rows,\n    schema,\n    logs,\n    executionTime: elapsed,\n  } satisfies WorkerIncomingMessage);\n};\n"],"names":["__defProp","__export","target","all","name","browser_exports","analyzeMetafile","analyzeMetafileSync","build","buildSync","context","browser_default","formatMessages","formatMessagesSync","initialize","stop","transform","transformSync","version","encodePacket","packet","visit","value","bb","encodeUTF8","item","keys","key","ByteBuffer","writeUInt32LE","decodePacket","bytes","decodeUTF8","count","value2","i","id","isRequest","buf","delta","clone","offset","readUInt32LE","length","ptr","encodeInvariant","encoder","decoder","text","buffer","byteOffset","byteLength","quote","buildLogLevelDefault","transformLogLevelDefault","validateTarget","validateStringValue","canBeAnything","mustBeBoolean","mustBeString","mustBeRegExp","mustBeInteger","mustBeFunction","mustBeArray","mustBeObject","mustBeEntryPoints","mustBeWebAssemblyModule","mustBeObjectOrNull","mustBeStringOrBoolean","mustBeStringOrObject","mustBeStringOrArray","mustBeStringOrUint8Array","mustBeStringOrURL","getFlag","object","mustBeFn","mustBe","checkForInvalidFlags","where","validateInitializeOptions","options","wasmURL","wasmModule","worker","validateMangleCache","mangleCache","validated","pushLogFlags","flags","isTTY","logLevelDefault","color","logLevel","logLimit","what","pushCommonFlags","legalComments","sourceRoot","sourcesContent","format","globalName","mangleProps","reserveProps","mangleQuoted","minify","minifySyntax","minifyWhitespace","minifyIdentifiers","lineLimit","drop","dropLabels","charset","treeShaking","ignoreAnnotations","jsx","jsxFactory","jsxFragment","jsxImportSource","jsxDev","jsxSideEffects","define","logOverride","supported","pure","keepNames","platform","tsconfigRaw","fn","flagsForBuildOptions","callName","writeDefault","_a","entries","stdinContents","stdinResolveDir","sourcemap","bundle","splitting","preserveSymlinks","metafile","outfile","outdir","outbase","tsconfig","resolveExtensions","nodePathsInput","mainFields","conditions","external","packages","alias","loader","outExtension","publicPath","entryNames","chunkNames","assetNames","inject","banner","footer","entryPoints","absWorkingDir","stdin","write","allowOverwrite","values","old","type","path","ext","n","entryPoint","entryPointKeys","input","output","stdinKeys","contents","resolveDir","sourcefile","loader2","nodePaths","flagsForTransformOptions","createChannel","streamIn","requestCallbacksByKey","closeData","responseCallbacks","nextRequestID","nextBuildKey","stdout","stdoutUsed","readFromStdout","chunk","limit","swap","handleIncomingPacket","afterClose","error","sendRequest","refs","callback","response","sendResponse","handleRequest","request","requestCallbacks","e","errors","extractErrorMessageV8","isFirstPacket","binaryVersion","defaultWD","refCount","buildKey","buildRefs","buildOrContextImpl","err","res","fs","details","createObjectStash","start","inputPath","replaceDetailsInMessages","warnings","outstanding","next","result","failureErrorWithLog","messages","kind","terminalWidth","sanitizeMessages","verbose","isContext","handleError","pluginName","message","plugins","handlePlugins","buildOrContextContinue","done","requestPlugins","runOnEndCallbacks","scheduleOnDisposeCallbacks","buildResponseToResult","callback2","originalErrors","originalWarnings","convertOutputFiles","onEndErrors","onEndWarnings","latestResultPromise","provideLatestResult","request2","resolve","didDispose","reject","settlePromise","result2","triggerAnotherBuild","error2","response2","options2","port","host","servedir","keyfile","certfile","fallback","onRequest","request3","initialOptions","onStartCallbacks","onEndCallbacks","onResolveCallbacks","onLoadCallbacks","onDisposeCallbacks","nextCallbackID","isSetupDone","setup","plugin","promise","keys2","importer","namespace","pluginData","importAttributes","resolve2","sanitizeStringMap","registeredText","registeredNote","extractCallerV8","filter","note","id2","suffix","sideEffects","watchFiles","watchDirs","sanitizeStringArray","newErrors","newWarnings","cb","map","nextID","ident","tried","lines","location2","parseStackLinesV8","stash","at","line","match","lineText","column","file","pluginText","sanitizeLocation","suggestion","relevantASCII","property","fallbackPluginName","messagesClone","index","notes","detail","notesClone","noteKeys","noteText","noteLocation","hash","binary","ensureServiceIsRunning","stopService","initializePromise","longLivedService","useWorker","startRunningService","rejectAllWith","rejectAllPromise","blob","onmessage","postMessage","globalThis","o","k","enosys","outputBuf","fd","nl","position","mode","uid","gid","link","perm","from","to","atime","mtime","code","setInt64","addr","v","getInt64","low","high","loadValue","f","storeValue","typeFlag","loadSlice","array","len","loadSliceOfValues","a","loadString","saddr","timeOrigin","b","sp","msec","m","args","str","dst","src","toCopy","instance","strPtr","argc","argvPtrs","arg","argv","go","event","wasm","stderr","parts","resumeStdin","stdinPos","data","first","tryToInstantiateModule","timeout","firstMessageResolve","firstMessageReject","firstMessagePromise","service","_","esbuildWasmURL","WORKER_URL","DATASETS_BASE","esbuildReady","ensureEsbuild","esbuild.initialize","scopeReady","ensureScope","fk","withLogCapture","logs","orig","capture","level","restore","r","isDataFrame","extractSchema","d","runUserCode","js","esbuild.transform","returnValue","msg","elapsed","rows","schema"],"mappings":"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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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","x_google_ignoreList":[0,1]}